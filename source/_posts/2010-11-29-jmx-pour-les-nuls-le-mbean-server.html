---
layout: post
title: "JMX pour les nuls... - Le MBean Server - Partie 5"
date: 2010-11-29
comments: false
categories:
 - java
 - jmx
---

<div class='post'>
<div style="text-align: justify;"><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/_XLL8sJPQ97g/TMdPuTpRY8I/AAAAAAAAALQ/R_w0PiLpvwo/s1600/jmx-cover.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="200" src="http://1.bp.blogspot.com/_XLL8sJPQ97g/TMdPuTpRY8I/AAAAAAAAALQ/R_w0PiLpvwo/s200/jmx-cover.png" width="171" /></a></div>Cet article reste dans la lignée de ma petite série d'articles sur JMX (cf. <a href="http://jetoile.blogspot.com/2010/10/jmx-pour-les-nuls-introduction.html">introduction</a>, <a href="http://jetoile.blogspot.com/2010/10/jmx-pour-les-nuls-les-concepts-partie-1.html">partie 1 portant sur les généralités</a>, <a href="http://jetoile.blogspot.com/2010/11/jmx-pour-les-nuls-les-differents-mbeans.html">partie 2 portant sur les différents MBeans et le concept de Notification</a>, <a href="http://jetoile.blogspot.com/2010/11/jmx-pour-les-nuls-les-agents-jmx-partie.html">partie 3 sur les agents JMX</a> et <a href="http://jetoile.blogspot.com/2010/11/jmx-pour-les-nuls-les-classes-de-base.html">partie 4 sur les classes de base</a>) et portera sur le MBean Server.<br /><br /><br /></div><div style="text-align: justify;"></div><!-- more --><br /><br /><br /><br /><br /><br /><h1>Table des matières</h1><ul><li><a href="http://jetoile.blogspot.com/2010/10/jmx-pour-les-nuls-les-concepts-partie-1.html">JMX, qu'est ce que c'est?</a></li><ul><li><a href="http://jetoile.blogspot.com/2010/10/jmx-pour-les-nuls-les-concepts-partie-1.html#generalite">Généralités</a></li><li><a href="http://jetoile.blogspot.com/2010/10/jmx-pour-les-nuls-les-concepts-partie-1.html#architecture">Architecture JMX</a></li><ul><li><a href="http://jetoile.blogspot.com/2010/10/jmx-pour-les-nuls-les-concepts-partie-1.html#instrumentation">Niveau instrumentation</a></li><li><a href="http://jetoile.blogspot.com/2010/10/jmx-pour-les-nuls-les-concepts-partie-1.html#agent">Niveau agent</a></li><li><a href="http://jetoile.blogspot.com/2010/10/jmx-pour-les-nuls-les-concepts-partie-1.html#distribue">Niveau service distribué</a></li></ul><li><a href="http://jetoile.blogspot.com/2010/10/jmx-pour-les-nuls-les-concepts-partie-1.html#composant">Composants JMX</a></li><ul><li><a href="http://jetoile.blogspot.com/2010/10/jmx-pour-les-nuls-les-concepts-partie-1.html#mbean">MBeans</a></li><li><a href="http://jetoile.blogspot.com/2010/10/jmx-pour-les-nuls-les-concepts-partie-1.html#notification">Modèle de notifications</a></li><li><a href="http://jetoile.blogspot.com/2010/10/jmx-pour-les-nuls-les-concepts-partie-1.html#metadonnee">Classe de métadonnées de MBeans</a></li><li><a href="http://jetoile.blogspot.com/2010/10/jmx-pour-les-nuls-les-concepts-partie-1.html#serveur">Serveur de MBeans</a></li><li><a href="http://jetoile.blogspot.com/2010/10/jmx-pour-les-nuls-les-concepts-partie-1.html#services">Service d'agents</a></li></ul></ul><li>Spécifications</li><ul><li><a href="http://jetoile.blogspot.com/2010/11/jmx-pour-les-nuls-les-differents-mbeans.html">JMX Instrumentation</a></li><ul><li><a href="http://jetoile.blogspot.com/2010/11/jmx-pour-les-nuls-les-differents-mbeans.html#mbean">MBean</a></li><ul><li><a href="http://jetoile.blogspot.com/2010/11/jmx-pour-les-nuls-les-differents-mbeans.html#mbean_standard">MBean Standard</a></li><li><a href="http://jetoile.blogspot.com/2010/11/jmx-pour-les-nuls-les-differents-mbeans.html#mbean_dynamic">Dynamic MBean</a></li></ul><li><a href="http://jetoile.blogspot.com/2010/11/jmx-pour-les-nuls-les-differents-mbeans.html#notification">Notification</a></li><li><a href="http://jetoile.blogspot.com/2010/11/jmx-pour-les-nuls-les-differents-mbeans.html#mbean_open">Open MBean</a></li><li><a href="http://jetoile.blogspot.com/2010/11/jmx-pour-les-nuls-les-differents-mbeans.html#mbean_model">Model MBean</a></li></ul><li><a href="http://jetoile.blogspot.com/2010/11/jmx-pour-les-nuls-les-agents-jmx-partie.html#agent">Agent JMX</a></li><li><a href="http://jetoile.blogspot.com/2010/11/jmx-pour-les-nuls-les-classes-de-base.html">Concepts</a></li><ul><li><a href="http://jetoile.blogspot.com/2010/11/jmx-pour-les-nuls-les-classes-de-base.html#objectname">ObjectName</a></li><li><a href="http://jetoile.blogspot.com/2010/11/jmx-pour-les-nuls-les-classes-de-base.html#objectinstance">ObjectInstance</a></li><li><a href="http://jetoile.blogspot.com/2010/11/jmx-pour-les-nuls-les-classes-de-base.html#attribute">Attribute et AttributeList</a></li><li><a href="http://jetoile.blogspot.com/2010/11/jmx-pour-les-nuls-les-classes-de-base.html#exception">Les Exceptions</a></li></ul><li><a href="http://jetoile.blogspot.com/2010/11/jmx-pour-les-nuls-le-mbean-server.html">MBean Server</a></li><li><a href="http://jetoile.blogspot.com/2010/12/jmx-pour-les-nuls-chargement-dynamique.html">Chargement dynamique des MBeans</a></li><li><a href="http://jetoile.blogspot.com/2010/12/jmx-pour-les-nuls-les-services-jmx.html">Les services JMX</a></li><ul><li><a href="http://jetoile.blogspot.com/2010/12/jmx-pour-les-nuls-les-services-jmx.html#monitoring">Service Monitoring</a></li><li><a href="http://jetoile.blogspot.com/2010/12/jmx-pour-les-nuls-les-services-jmx.html#timer">Service Timer</a></li><li><a href="http://jetoile.blogspot.com/2010/12/jmx-pour-les-nuls-les-services-jmx.html#relation">Service Relation</a></li><li><a href="http://jetoile.blogspot.com/2010/12/jmx-pour-les-nuls-les-services-jmx.html#securite">Service Sécurité</a></li></ul><li><a href="http://jetoile.blogspot.com/2010/12/jmx-pour-les-nuls-les-connecteurs.html">Les Connecteurs</a></li></ul></ul><div style="text-align: justify;">Le MBean Server est un annuaire de MBeans se trouvant dans l'agent JMX. Il permet de fournir les services que manipulent les MBeans et toutes les opérations d'administration et de supervision, qui sont fournies par le MBean, le sont au travers de l'interface <i>MBeanServer</i> :</div><ul style="text-align: justify;"><li>Les MBeans qui représentent une ressource managée qui peuvent être n'importe quelle application, des ressources système ou réseaux tant qu'elles sont représentés par une interface Java ou un wrappeur Java.</li><li>Les MBeans qui ajoutent des fonctionnalités de management qui peuvent être génériques (par exemple, des fonctionnalités de journalisation ou de monitoring) ou plus spécifique à une technologie ou à un domaine d'application.</li><li>Les composants de l'infrastructure comme les serveurs de connecteurs et les adaptateurs de protocole.</li></ul><div style="text-align: justify;">Pour ce faire, l'agent JMX propose une classe factory pour trouver ou créer un MBean Server qui peut ne pas êre unique dans un agent JMX.</div><div style="text-align: justify;">L'interface <i>MBeanServer</i> définie les opérations accessible sur un agent JMX.</div><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/_XLL8sJPQ97g/TOlMH2RYqlI/AAAAAAAAAOY/rcYE9XfKwrQ/s1600/jmx43.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="640" src="http://3.bp.blogspot.com/_XLL8sJPQ97g/TOlMH2RYqlI/AAAAAAAAAOY/rcYE9XfKwrQ/s640/jmx43.png" width="283" /></a></div><div style="text-align: justify;">La classe <i>MBeanServerFactory</i> dispose de méthodes statiques permettant de retourner une instance de l'implémentation de l'interface <i>MBeanServer</i>. </div><div style="text-align: justify;">Lorsque l'implémentation du MBean Server est créée, il est possible d'indiquer le nom du domaine par défaut utilisé dans l'agent JMX qu'il représente. Ce sont ces méthodes qui sont également utilisées par l'agent JMX pour créer un ou plusieurs MBean Server.</div><div style="text-align: justify;">Dans le cas où ce sont des méthodes de recherche et de récupération du MBean Server déjà créé dans l'agent JMX, les classes chargées dans la JVM peuvent accéder aux MBean Server déjà existant sans avoir à connaitre l'agent JMX.</div><div style="text-align: justify;"></div><table border="1" cellpadding="0" cellspacing="0" style="margin-left: 0px; margin-right: 0px; text-align: left;"><tbody><tr><td><span class="Apple-style-span"><a href="http://3.bp.blogspot.com/_XLL8sJPQ97g/TNCS7qzv19I/AAAAAAAAAL4/6qkEYy4pX6o/s1600/remarque.png" imageanchor="1" style="clear: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/_XLL8sJPQ97g/TNCS7qzv19I/AAAAAAAAAL4/6qkEYy4pX6o/s1600/remarque.png" style="cursor: move;" /></a></span></td> <td><div style="text-align: justify;">Depuis Java 5, toute application Java possède un MBean Server qui peut être obtenu via la méthode <i>java.lang.management.ManagementFactory.</i></div><i>&nbsp;&nbsp;&nbsp; getPlatformMBeanServer()</i></td></tr></tbody></table><div style="text-align: justify;"></div><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/_XLL8sJPQ97g/TOlM8DBItVI/AAAAAAAAAOc/GK-kgJY2Hos/s1600/jmx46.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="254" src="http://3.bp.blogspot.com/_XLL8sJPQ97g/TOlM8DBItVI/AAAAAAAAAOc/GK-kgJY2Hos/s320/jmx46.png" width="320" /></a></div><div style="text-align: justify;">L'accès aux méthodes statiques de la classe <i>MBeanServerFactory</i> est controlé par la classe <i>MBeanServerPermission</i>. Cette classe étend les classes de permissions basiques de Java et permet l'accès aux opérations suivantes :</div><ul style="text-align: justify;"><li><i>createMBeanServer</i></li><li><i>findMBeanServer</i></li><li><i>newMBeanServer</i></li><li><i>releaseMBeanServer</i></li></ul><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/_XLL8sJPQ97g/TOlQlzvrRwI/AAAAAAAAAPM/6MVsoLxzkxM/s1600/jmx47.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="640" src="http://4.bp.blogspot.com/_XLL8sJPQ97g/TOlQlzvrRwI/AAAAAAAAAPM/6MVsoLxzkxM/s640/jmx47.png" width="310" /></a></div><div style="text-align: justify;">L'enregistrement des MBeans au sein du MBean Server peut être fait soit via l'agent JMX, soit via un autre MBean. Pour ce faire, l'interface <i>MBeanServer</i> propose deux types d'enregistrement :</div><ul style="text-align: justify;"><li>l'instanciation d'un nouveau MBean et son enregistrement en une seule opération. Dans ce cas, le chargement de la classe Java du MBean peut être fait en utilisant le classe loader par défaut ou en en explicitant un,</li><li>l'enregistrement d'un MBean déjà existant.</li></ul><div style="text-align: justify;">Dans ces deux cas, un <i>ObjectName</i> doit être associé au MBean lors de son enregistrement afin de l'identifier de manière unique au sein du contexte du MBean Server.</div><div style="text-align: justify;"></div><div style="text-align: justify;">Le développeur du MBean peut, de plus, avoir la main sur l'enregistrement et le désenregistrement du MBean au sein du MBean Server en implémentant l'interface <i>MBeanRegistration</i>. Pour ce faire, le MBean Server vérifie dynamiquement avant (resp. après) l'exécution de ces opérations si le MBean implémente l'interface <i>MBeanRegistration</i>. Si c'est le cas, alors les opérations de callbacks adéquates sont invoquées.</div><table border="1" cellpadding="0" cellspacing="0" style="margin-left: 0px; margin-right: 0px; text-align: left;"><tbody><tr><td><span class="Apple-style-span"><a href="http://3.bp.blogspot.com/_XLL8sJPQ97g/TNCS7qzv19I/AAAAAAAAAL4/6qkEYy4pX6o/s1600/remarque.png" imageanchor="1" style="clear: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/_XLL8sJPQ97g/TNCS7qzv19I/AAAAAAAAAL4/6qkEYy4pX6o/s1600/remarque.png" style="cursor: move;" /></a></span></td> <td style="text-align: justify;">L'implémentation de l'interface <i>MBeanRegistration</i> est la seule manière de renseigner le MBean sur son environnement et plus particulièrement de lui fournir des informations sur le MBean Server au sein duquel il est enregistré. Cela lui permet, entre autre, d'obtenir des informations sur les autres MBean présent dans le MBean Server.</td></tr></tbody></table><div style="text-align: justify;"></div><div style="text-align: justify;"></div><div style="text-align: center;"><a href="http://3.bp.blogspot.com/_XLL8sJPQ97g/TOlRJXtN5FI/AAAAAAAAAPQ/kWtb8jvKMsU/s1600/jmx48.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="92" src="http://3.bp.blogspot.com/_XLL8sJPQ97g/TOlRJXtN5FI/AAAAAAAAAPQ/kWtb8jvKMsU/s320/jmx48.png" width="320" /></a></div><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/_XLL8sJPQ97g/TOlRaaRexrI/AAAAAAAAAPU/ho2Ok7wJLyE/s1600/jmx49.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="101" src="http://2.bp.blogspot.com/_XLL8sJPQ97g/TOlRaaRexrI/AAAAAAAAAPU/ho2Ok7wJLyE/s320/jmx49.png" width="320" /></a></div><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/_XLL8sJPQ97g/TOlRdOCQS3I/AAAAAAAAAPY/qYOspXtPJx0/s1600/jmx50.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="101" src="http://4.bp.blogspot.com/_XLL8sJPQ97g/TOlRdOCQS3I/AAAAAAAAAPY/qYOspXtPJx0/s320/jmx50.png" width="320" /></a></div><div class="separator" style="clear: both; text-align: justify;"><a href="http://3.bp.blogspot.com/_XLL8sJPQ97g/TOlRJXtN5FI/AAAAAAAAAPQ/kWtb8jvKMsU/s1600/jmx48.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"> </a></div><div style="text-align: justify;">Ainsi, l'interface <i>MBeanServer</i> offre des opérations pour :</div><ul style="text-align: justify;"><li>récupérer un MBean à partir de son ObjectName,</li><li>récupérer une collection de MBeans à partir d'une expression régulière sur son nom en appliquant éventuellement un filtre sur ses attributs,</li><li>récupérer la valeur d'un ou plusieurs attributs d'un MBean,</li><li>invoquer une opération sur un MBean,</li><li>d'introspecter un MBean pour récupérer l'interface de management d'un MBean, c'est-à-dire ses attributs et ses opérations,</li><li>s'enregistrer afin de recevoir les notifications émises par un MBean.</li></ul><div style="text-align: justify;">Il est à noter que ces méthodes sont génériques, c'est pourquoi elles se basent toutes sur l'objectName du MBean. Le rôle du MBean Server est donc, entre autre :</div><ul style="text-align: justify;"><li>de résoudre l'objectName,</li><li>de déterminer si l'opération invoquer sur le MBean peut être consistante (ie. résolue par le MBean),</li><li>de renvoyer le résultat de l'opération au demandeur si les deux points précédents ont été vérifiés.</li></ul><div style="text-align: justify;">Cependant, il est également possible, plutôt que d'utiliser l'interface <i>MBeanServer</i>, d'utiliser un proxy. Un proxy est un objet Java implémentant la même interface que le MBean et dont une méthode de son interface est routé au travers du MBean Server vers le MBean. Pour ce faire, la classe statique JMX offre les méthodes utilitaires.</div><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/_XLL8sJPQ97g/TOlSItzCdaI/AAAAAAAAAPc/MYHC7W_7ORs/s1600/jmx51.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="91" src="http://1.bp.blogspot.com/_XLL8sJPQ97g/TOlSItzCdaI/AAAAAAAAAPc/MYHC7W_7ORs/s320/jmx51.png" width="320" /></a></div><div style="text-align: justify;"></div><table border="1" cellpadding="0" cellspacing="0" style="margin-left: 0px; margin-right: 0px; text-align: left;"><tbody><tr><td><span class="Apple-style-span"><a href="http://3.bp.blogspot.com/_XLL8sJPQ97g/TNCS7qzv19I/AAAAAAAAAL4/6qkEYy4pX6o/s1600/remarque.png" imageanchor="1" style="clear: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/_XLL8sJPQ97g/TNCS7qzv19I/AAAAAAAAAL4/6qkEYy4pX6o/s1600/remarque.png" style="cursor: move;" /></a></span></td> <td><div style="text-align: justify;">Le MBean Server défini un domaine particulier appelé <i>JMXImplementation</i> dans lequel un MBean de la classe <i>MBeanServerDelegate</i> est enregistré. Cet objet identifie et décrit le MBean Server dans lequel il est enregistré. Il est également utilisé pour émettre les notifications émises par le MBean Server : ce MBean agit comme un delegate du MBean Server qu'il représente.</div><div style="text-align: justify;">Son ObjectName est <i>JMXImplementation:type=MBeanServerDelegate</i> et il possède que des attributs en lecture-seule.</div><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/_XLL8sJPQ97g/TOlStTeaChI/AAAAAAAAAPg/DEI2Md4dIO0/s1600/jmx52.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="264" src="http://3.bp.blogspot.com/_XLL8sJPQ97g/TOlStTeaChI/AAAAAAAAAPg/DEI2Md4dIO0/s320/jmx52.png" width="320" /></a></div></td></tr></tbody></table><div style="text-align: justify;"></div><div style="text-align: justify;">Les méthodes <i>queryMBeans(ObjectName, QueryExp)</i> et <i>queryNames(ObjectName, QueryExp)</i> de récupération d'un MBean permettent de fournir une requête afin de minimiser la recherche au sein du MBean Server. Pour ce faire, ces méthodes prennent en paramètre :</div><ul style="text-align: justify;"><li>un ObjectName sous forme de pattern qui correspond à la portée de la requête et qui permet de spécifier le nom de l'ObjectName des MBeans à rechercher,</li><li>un critère de filtre sur la valeur des attributs qui s'applique aux MBeans trouvés par le premier paramètre.</li></ul><div style="text-align: justify;">Dans le cas où la requête ne trouve pas de MBeans ou qu'aucun MBean trouvé ne répond aux critères fournis, le résultat ne contiendra pas d'éléments.</div><div style="text-align: justify;">Dans le cas où le pattern de l'ObjectName est <i>null</i>, alors la portée de la recherche se fera dans tout le MBean Server.</div><div style="text-align: justify;">Dans le cas où le critère de filtre est null, alors le résultat n'est pas filtré et correspond à tous les éléments se trouvant dans la portée de la requête.</div><div style="text-align: justify;"></div><table border="1" cellpadding="0" cellspacing="0" style="margin-left: 0px; margin-right: 0px; text-align: left;"><tbody><tr><td><span class="Apple-style-span"><a href="http://3.bp.blogspot.com/_XLL8sJPQ97g/TNCS7qzv19I/AAAAAAAAAL4/6qkEYy4pX6o/s1600/remarque.png" imageanchor="1" style="clear: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/_XLL8sJPQ97g/TNCS7qzv19I/AAAAAAAAAL4/6qkEYy4pX6o/s1600/remarque.png" style="cursor: move;" /></a></span></td> <td style="text-align: justify;">Le <i>MBeanServerDelegate</i> est accessible lors de la recherche de MBeans.</td></tr></tbody></table><div style="text-align: justify;"></div><div style="text-align: justify;">La portée de la requête doit avoir la forme telle que celle vu dans la <a href="http://jetoile.blogspot.com/2010/11/jmx-pour-les-nuls-les-classes-de-base.html">quatrième partie de cette série de post sur JMX</a>.</div><ul style="text-align: justify;"><li>Le critère de filtre doit utiliser les classes et interfaces suivantes :</li><li>L'interface <i>QueryExp</i> qui permet d'identifier les objets qui forme les expressions de la requête. Ces objets peuvent être utilisés dans une requête ou peuvent composés une requête plus complexe.</li><li>Les interfaces <i>ValueExp</i> et <i>StringValueExp</i> qui permettent d'identifier les objets qui représentent les valeurs numériques ou de type chaîne de caractères.</li><li>L'interface <i>AttributeValueExp</i> qui permet d'identifier les objets qui représentent les attributs.</li><li>La classe <i>Query</i> qui permet la construction d'une requête. Elle propose des méthodes statiques qui retournent des objets de type <i>QueryExp</i> et <i>ValueExp</i>.</li><li>La classe <i>ObjectName</i> qui implémente l'interface <i>QueryExp</i> et qui peut donc être utilisé dans un critère de filtre.</li></ul><div style="text-align: justify;">Dans la pratique, il n'est pas nécessaire d'avoir à utiliser directement les interfaces <i>ValueExp</i> et <i>QueryExp</i>. En effet, la classe <i>Query</i> fonctionne comme une fabrique d'objets de type <i>QueryExp</i>.</div><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/_XLL8sJPQ97g/TOlUQAX1lSI/AAAAAAAAAPk/ILENCvAgkPQ/s1600/jmx53.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="400" src="http://3.bp.blogspot.com/_XLL8sJPQ97g/TOlUQAX1lSI/AAAAAAAAAPk/ILENCvAgkPQ/s400/jmx53.png" width="263" /></a></div><div style="text-align: justify;">Ainsi, on pourra, par exemple, avoir le code suivant :</div><pre class="brush:java; wrap-lines: false; auto-links: false">QueryExp exp = Query.and(<br />&nbsp;&nbsp; Query.geq(Query.attr("age"),<br />&nbsp;&nbsp; Query.value(20)),<br />&nbsp;&nbsp; Query.match(Query.attr("name"),<br />&nbsp;&nbsp; Query.value("G*ling")));<br /><br />QueryExp exp = Query.eq(<br />&nbsp;&nbsp; Query.classattr(),<br />&nbsp;&nbsp; Query.value("managed.device.Printer"));<br /></pre><div style="text-align: justify;">L'interface <i>MBeanServerConnection</i> étendue par l'interface <i>MBeanServer</i> permet de fournir une interface commune d'accès au MBean Server qu'il soit distant ou local.</div><div style="text-align: justify;"></div><div style="text-align: justify;">Enfin, il est possible de fournir sa propre implémentation du MBean Server en renseignant la propriété système <i>javax.management.builder.initial</i> : lorsque les méthodes <i>createMBeanServer()</i> ou <i>newMBeanServer()</i> sur les <i>MBeanServerFactory</i> sont appelées, alors, si la variable système est renseignée, c'est le MBean Server qui est renseigné qui est utilisé, sinon, c'est le MBean Server par défaut.</div><div style="text-align: justify;">Ce MBean Server doit être une classe publique qui étend la classe <i>MBeanServerBuilder</i>. Il est à noter que cette classe doit également pouvoir créer une instance de <i>MBeanServerDelegate</i> (qui peut être standard ou pas).</div><div style="text-align: justify;"></div><div style="text-align: center;"><a href="http://2.bp.blogspot.com/_XLL8sJPQ97g/TOlUoxk6UlI/AAAAAAAAAPo/oPr-jYiJNIw/s1600/jmx54.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="56" src="http://2.bp.blogspot.com/_XLL8sJPQ97g/TOlUoxk6UlI/AAAAAAAAAPo/oPr-jYiJNIw/s320/jmx54.png" width="320" /></a></div><div style="text-align: justify;"></div></div>
