
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>

<script type="text/javascript">
    var host = "blog.jetoile.fr";
    if ((host == window.location.host) && (window.location.protocol != "https:"))
        window.location.protocol = "https";
</script>

  <meta charset="utf-8">
  <title>Découpage De Projets : Projet vs. Modules - Jetoile</title>
  <meta name="author" content="Khanh Maudoux">

  <meta content='blog sur Java jee' name='description'/>
  <meta content='jee, java, cloud, nosql' name='keywords'/>
  <meta content='index, follow' name='robots'/>
  <link href='url' rel='canonical'/>

  
  <meta name="description" content="Découpage De Projets : Projet vs. Modules August 28, 2012 Lorsqu&#8217;un projet débute, il est important (à mon avis) de se poser la question sur &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="https://blog.jetoile.fr/2012/08/decoupage-de-projets-projet-vs-modules.html">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Jetoile" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>

  <script src="/javascripts/monthly_archive.js"></script>
  <!-- font-family: 'Knewave', cursive; -->
<link href='http://fonts.googleapis.com/css?family=Knewave' rel='stylesheet' type='text/css'>
<!-- font-family: 'Cantata One', serif; -->
<link href='http://fonts.googleapis.com/css?family=Cantata+One' rel='stylesheet' type='text/css'>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-11955429-1']);
    _gaq.push(['_trackPageview']);
    _gaq.push(['_setDomainName','github.io']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

  <body>
    <a href="/" class="home-icon">
      <img src="/images/home.png"/>
    </a>

    <article role="article" class="full-single-article">
  <div class="container">
    <div class="row">
      <div class="col-md-8 col-md-offset-2">
        <h1>Découpage De Projets : Projet vs. Modules</h1>
        <div class="meta">
          








  



<time datetime="2012-08-28T11:47:11+02:00" pubdate data-updated="true">August 28, 2012</time>  
        </div>
        <p><img src="http://2.bp.blogspot.com/-wz814rCkbHY/UC1JmXEpcyI/AAAAAAAAAoA/6YjiYTg7fzw/s1600/couteaux.png" alt="left-small" /></p>

<p>Lorsqu&#8217;un projet débute, il est important (à mon avis) de se poser la question sur la façon dont celui-ci sera découpé. Pour être plus précis, il existe deux types d&#8217;approches :</p>

<ul>
<li>le découper fonctionnellement,</li>
<li>le découper techniquement.</li>
</ul>


<p>En outre, en plus de ce type de découpage, il est également important de s&#8217;interroger sur la façon dont il sera représenté dans le SCM : faut-il tout mettre dans le même projet (au sens SVN ou git du terme) en utilisant éventuellement des sous modules maven si c&#8217;est ce dernier qui est utilisé, ou faut-il en créer plusieurs?</p>

<p>C&#8217;est de ce dernier point dont il sera question dans ce court article qui présentera l&#8217;avis que j&#8217;ai pu me faire concernant le découpage technique du projet ie. s&#8217;il vaut mieux le découper en projets séparés ou en module (au sens maven du terme).</p>

<p>Il s&#8217;agit d&#8217;une opinion très personnelle qui peut ne pas être partagée par tous mais je trouvais intéressant de fournir mon humble avis et de le marquer noir sur blanc. Si je venais à dire des bêtises, au moins, cet article servira d&#8217;amorce à la discussion ;&ndash;)</p>

<!-- more -->


<h1>Module ou projet?</h1>

<p>Comme mentionné en introduction, cet article traitera de comment architecturer son projet, à savoir, s&#8217;il vaut mieux découper son projet en différents projets ou en sous-modules. Bien sûr, ce point doit être pris en compte conjointement avec le découpage technique et/ou fonctionnel.</p>

<p>Dans la suite de l&#8217;article, les termes &ldquo;<em>projet</em>&rdquo; et &ldquo;<em>module</em>&rdquo; sont utilisés au sens maven du terme. Pour avoir les vraies définitions, il est quand même préférable de se référer à la documentation officielle, mais voilà comment je les décrirai succinctement :</p>

<ul>
<li><strong>projet</strong> : il contient ses propres modules et produit un seul livrable (<em>assembly</em>, <em>war</em>, <em>ear</em> ou autre). Il peut éventuellement hériter d&#8217;un super pom.</li>
<li><strong>module</strong> : il s&#8217;agit d&#8217;un module maven ie. qu&#8217;il suit le même versionning que son père (pour rappel, les bonnes pratiques maven demandent à ce que les sous-modules d&#8217;un projet hérite de la version et du groupId du père). Le fait de builder le module parent build également les sous-modules. Concrètement, le père déclare ses modules fils avec l&#8217;élément <em>module</em> et le <em>module</em> fils déclare son père avec l&#8217;élément parent</li>
</ul>


<p>En fait, pour moi, la seule chose qui va décider de découper un projet (au sens large du terme) en modules ou en différents projets se résume en 3 mots : <strong>cycle de vie</strong> :</p>

<ul>
<li>Si lors de la relivraison d&#8217;un sous composant tout le système doit être relivré car dépendant du premier, alors les composants sont dans le même projet, ie. qu&#8217;ils sont des modules. Ils héritent alors de la version du père et ne doivent pas être relivré indépendamment.</li>
<li>S&#8217;il est possible de livrer indépendamment un composant du projet et que cela n&#8217;a pas foncièrement d&#8217;impact sur les autres, alors il doit être dans un projet indépendant. Les autres composants l&#8217;utilisant auront alors dans leur pom un numéro de version figée et le verrons comme une boite noire.</li>
</ul>


<p>Bien sûr, le fait de gérer des projets indépendants complexifie le processus de livraison ainsi que l&#8217;usine logicielle (au nombre de jobs jenkins, sonar &amp; co.) et c&#8217;est aussi pourquoi, souvent, les composants se retrouvent déclarer en modules d&#8217;un seul et unique projet.</p>

<p>Pourtant je pense que ce choix est une fausse bonne idée à terme et que la question du cycle de vie des différents composants est primordiale. En effet, découper en briques disposant de leur propre cycle de livraison force à découpler l&#8217;architecture du produit et oblige les équipes de développement à réfléchir sur le design.</p>

<p>De même, coté vision globale, cela force à réfléchir sur une cartographie du système (processus aussi appelé <strong>urbanisation</strong>) en se forçant à raisonner service (au sens large du terme) (<em>ndlr</em> : désolé mais pour ceux qui ne me connaissent pas, je viens du monde SOA&hellip; ).</p>

<p>Bien sûr, si le projet se limite à une simple application web disposant de son controleur, de sa couche présentation et de sa couche modèle, alors un &ldquo;simple&rdquo; projet disposant de ses sous-modules est largement suffisant, mais s&#8217;il s&#8217;agit de composants nécessaires à la gestion du SI au sens plus large, la question mérite à être posée.</p>

<p>Enfin, juste pour conclure cette partie, concernant le SCM, il doit être découpé en conséquence. Si c&#8217;est Git qui est utilisé, pas de souci. Par contre, si c&#8217;est SVN (ou autre), alors il est primodiale de respecter les préconisations de ce dernier, ie. de ne pas avoir tous les projets sous trunk mais que chaque projet dispose de ses sous répertoires <code>trunk/branches/tags</code>. En effet, un projet doit avoir sa propre hiérarchie de tags et de branches. De plus, techniquement parlant, il peut arriver que le fait d&#8217;utiliser le plugin release de maven produise des informations fausses au niveau de l&#8217;élément <code>scm</code>.</p>

<p>Exemple :</p>

<p>Le projet des décomposé comme suit :</p>

<p><img src="http://2.bp.blogspot.com/-tB997UpDKpA/UCvnxlx4G5I/AAAAAAAAAnc/9bD09UesmJ4/s1600/scm-projets2.png" alt="center" /></p>

<p>Alors les valeurs des éléments scm pour trunk seront les suivantes :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='text'><span class='line'>projet1                          scm : trunk/projet1
</span><span class='line'>      projet11                   scm : trunk/projet1/projet11
</span><span class='line'>projet2                          scm : trunk/projet2
</span></code></pre></td></tr></table></div></figure>


<p>Par contre, si le plugin release est utilisée (par exemple le goal branches), on aura  la valeur de l&#8217;élément scm pour branches projet11 qui sera la suivante :</p>

<p><img src="http://1.bp.blogspot.com/-0Ha4zM3jOGU/UCvo1B6DknI/AAAAAAAAAnk/6CJBHQurR3c/s1600/scm-projets.png" alt="center" /></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='text'><span class='line'>projet11                  scm : branches/projet1/projet11
</span></code></pre></td></tr></table></div></figure>


<p>On constate que la transformation de la valeur de l&#8217;élément scm pour le projet11 est erronée. Cela n&#8217;influe en rien le livrable, cependant, il devient alors impossible de créer une branche ou de faire une release du projet11 avec le plugin maven release&hellip;</p>

<h1>Conclusion</h1>

<p>Pour conclure cet article, on peut voir que le choix entre module et projet n&#8217;est pas si complexe que cela mais qu&#8217;il est préférable (et même, à mon sens, indispensable) de se poser les bonnes questions. Pour ma part, j&#8217;aurai tendance à dire que plus cela est tôt dans le projet, mieux c&#8217;est. Cependant, il faut se méfier de l&#8217;overdesign et trop de découpage peut tuer le découpage&hellip; Certaines personnes préfèrent, d&#8217;ailleurs, n&#8217;avoir qu&#8217;un seul projet décomposé en différent sous module puis, en fonction de l&#8217;avancée du projet, effectuer un découpage : c&#8217;est également une possibilité qui se veut aussi plus pragmatique.</p>

<p>Après chacun fait comme il l&#8217;entend et c&#8217;est une question de goût. Cependant, si on pousse ce raisonnement à l&#8217;extrème, pourquoi, dans ce cas, ne pas faire un découpage par package? : cela est plus simple, on ne s&#8217;embête pas à gérer différents poms et c&#8217;est encore plus pragmatique non? ;&ndash;)</p>

<p>Une fois encore, lecteur, je te laisse seul juge. A toi de te faire ta propre expérience et de juger le pour et le contre. Moi j&#8217;ai le mien ;&ndash;)</p>


<footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Khanh Maudoux</span></span>

      </p>
      <p class="meta">
      








  



<time datetime="2012-08-28T11:47:11+02:00" pubdate data-updated="true">August 28, 2012</time> in 

<span class="categories">
  
    <a class='category' href='/blog/categories/architecture/'>architecture</a>, <a class='category' href='/blog/categories/avis/'>avis</a>, <a class='category' href='/blog/categories/java/'>java</a>, <a class='category' href='/blog/categories/maven/'>maven</a>, <a class='category' href='/blog/categories/reflexion/'>réflexion</a>, <a class='category' href='/blog/categories/soa/'>soa</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="https://blog.jetoile.fr/2012/08/decoupage-de-projets-projet-vs-modules.html" data-via="jetoile" data-counturl="https://blog.jetoile.fr/2012/08/decoupage-de-projets-projet-vs-modules.html" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
</div>

    
</footer>

<!--
<section>
<h1>Comments</h1>
<script>
var idcomments_acct = '1a2a89d3b135fb1f774e938fd286d920';
var idcomments_post_id;
var idcomments_post_url;
</script>
<span id="IDCommentsPostTitle" style="display:none"></span>
<script type='text/javascript' src='http://www.intensedebate.com/js/genericCommentWrapperV2.js'></script>

</section>
-->


  <section>
    <h1>Comments</h1>

    
<div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'jetoile'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>

<!--
<div id="disqus_thread"></div>
  

<script type="text/javascript">
      var disqus_shortname = 'jetoile';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'https://blog.jetoile.fr/2012/08/decoupage-de-projets-projet-vs-modules.html';
        var disqus_url = 'https://blog.jetoile.fr/2012/08/decoupage-de-projets-projet-vs-modules.html';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>


  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>

  </section>


      </div>
    </div>
  </div>
-->


</article>

<hr class="divider-short"/>

<div class="archive-link">
  <div class="container">
    <div class="row">
      <a class="pull-center" href="/" title="Home">Home</a>
    </div>
    <div class="row">
      <div class="col-md-8 col-md-offset-2">
        
          <a class="pull-left" href="/2012/08/maven-creer-une-branche-mode-demloi.html" title="Previous Post: Maven : créer une branche - Mode d'emploi">&laquo; Previous: Maven : créer une branche - Mode d'emploi</a>
        

        
          <a class="pull-right" href="/2012/10/test-de-charge-mode-demploi.html" title="Next Post: Test de charge : mode d'emploi">Next: Test de charge : mode d'emploi &raquo;</a>
        
      </div>
    </div>
  </div>
</div>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
<script type="text/javascript">
  window.___gcfg = {lang: 'fr'};

  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/platform.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>

    <footer id="footer" class="her-row">
  <div class="container">
    <div class="row">
      <div id='footer-shadow'></div>
<!--//please give me a respect for keep these credits line -->
<div class='credits'>
<div align='center'>

<table style="border:none;border-spacing: 20px;border-collapse: separate;">
<tr style="border:none">
<td style="border:none">
<a href="http://twitter.com/jetoile" class="twitter-follow-button" data-show-count="false" data-lang="fr">Follow @jetoile</a>
<script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
</td>
<td style="border:none">
<a href="https://plus.google.com/u/0/114765959876500830478/posts?prsrc=3" style="text-decoration: none; color: #333;"><div style="display: inline-block;"><span style="float: left; font: bold 13px/16px arial,sans-serif; margin-right: 4px; margin-top: 7px;">khanh</span><span style="float: left; font: 13px/16px arial,sans-serif; margin-right: 11px; margin-top: 7px;">on</span><div style="float: left;"><img src="/images/gplus-32.png" width="32" height="32" style="border: 0;"/></div><div style="clear: both"></div></div></a>
</td>
<td style="border:none">
<a href="http://fr.linkedin.com/pub/khanh-tuong-maudoux/19/92b/11b"><img src="/images/btn_profile_bluetxt_8
0x15_fr_FR.png" width="80" height="15" border="0" alt="Voir le profil de Khanh Tuong Maudoux sur LinkedIn" /></a>
</td>
</tr>
</table>


<img alt='Jetoile' height='50' src='/images/logoJetoile_v51.png' style='border-width:0; vertical-align: middle' width='180'/>
<p>&#169; 2011 <a href='http://blog.jetoile.fr/'>Je toile ou j* au choix...</a> - Khanh Maudoux</p>
<a href='http://creativecommons.org/licenses/by/4.0/' rel='license'><img alt='Licence Creative Commons' src='/images/creative_common88x31.png' style='border-width:0'/></a> Cette œuvre de <a href='http://blog.jetoile.fr' property='cc:attributionName' rel='cc:attributionURL' xmlns:cc='http://creativecommons.org/ns#'>http://blog.jetoile.fr</a> est mise à disposition selon les termes de la <a href='http://creativecommons.org/licenses/by/4.0/' rel='license'>licence Creative Commons Attribution 4.0 International</a>.
<!--img alt='Creative Commons License' src='http://i.creativecommons.org/l/by/2.0/fr/88x31.png' style='border-width:0; vertical-align: middle;'/> <small>Sauf mention contraire, le contenu de ce blog est mis à disposition selon les termes de la licence <a href='http://creativecommons.org/licenses/by/2.0/fr/'>Creative Commons Attribution 2.0 License</a>.</small-->
<br/>
<small>Powered by <a href="http://octopress.org">Octopress</a><br/>
</small>
</div>
</div>


    </div>
  </div>
</footer>

  </body>
</html>
