
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>

<script type="text/javascript">
    var host = "blog.jetoile.fr";
    if ((host == window.location.host) && (window.location.protocol != "https:"))
        window.location.protocol = "https";
</script>

  <meta charset="utf-8">
  <title>JMX Pour Les Nuls... - Le MBean Server - Partie 5 - Jetoile</title>
  <meta name="author" content="Khanh Maudoux">

  <meta content='blog sur Java jee' name='description'/>
  <meta content='jee, java, cloud, nosql' name='keywords'/>
  <meta content='index, follow' name='robots'/>
  <link href='url' rel='canonical'/>

  
  <meta name="description" content="JMX Pour Les Nuls... - Le MBean Server - Partie 5 November 29, 2010 Cet article reste dans la lignée de ma petite série d&#8217;articles sur JMX (cf &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="https://blog.jetoile.fr/2010/11/jmx-pour-les-nuls-le-mbean-server.html">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Jetoile" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>

  <script src="/javascripts/monthly_archive.js"></script>
  <!-- font-family: 'Knewave', cursive; -->
<link href='http://fonts.googleapis.com/css?family=Knewave' rel='stylesheet' type='text/css'>
<!-- font-family: 'Cantata One', serif; -->
<link href='http://fonts.googleapis.com/css?family=Cantata+One' rel='stylesheet' type='text/css'>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-11955429-1']);
    _gaq.push(['_trackPageview']);
    _gaq.push(['_setDomainName','github.io']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

  <body>
    <a href="/" class="home-icon">
      <img src="/images/home.png"/>
    </a>

    <article role="article" class="full-single-article">
  <div class="container">
    <div class="row">
      <div class="col-md-8 col-md-offset-2">
        <h1>JMX Pour Les Nuls... - Le MBean Server - Partie 5</h1>
        <div class="meta">
          








  



<time datetime="2010-11-29T16:27:13+01:00" pubdate data-updated="true">November 29, 2010</time>  
        </div>
        <p><img src="http://1.bp.blogspot.com/_XLL8sJPQ97g/TMdPuTpRY8I/AAAAAAAAALQ/R_w0PiLpvwo/s200/jmx-cover.png" alt="left" />
Cet article reste dans la lignée de ma petite série d&#8217;articles sur JMX (cf. <a href="/2010/10/jmx-pour-les-nuls-introduction.html">introduction</a>, <a href="/2010/10/jmx-pour-les-nuls-les-concepts-partie-1.html">partie 1</a> portant sur les généralités, <a href="/2010/11/jmx-pour-les-nuls-les-differents-mbeans.html">partie 2</a> portant sur les différents MBeans et le concept de Notification, <a href="/2010/11/jmx-pour-les-nuls-les-agents-jmx-partie.html">partie 3</a> sur les agents JMX et <a href="/2010/11/jmx-pour-les-nuls-les-classes-de-base.html">partie 4</a> sur les classes de base) et portera sur le MBean Server.</p>

<!-- more -->


<h1>Table des matières</h1>

<ul>
<li>JMX, qu&#8217;est ce que c&#8217;est?

<ul>
<li><a href="/2010/10/jmx-pour-les-nuls-les-concepts-partie-1.html#generalite">Généralités</a></li>
<li><a href="/2010/10/jmx-pour-les-nuls-les-concepts-partie-1.html#architecture">Architecture JMX</a>

<ul>
<li><a href="/2010/10/jmx-pour-les-nuls-les-concepts-partie-1.html#instrumentation">Niveau instrumentation</a></li>
<li><a href="/2010/10/jmx-pour-les-nuls-les-concepts-partie-1.html#agent">Niveau agent</a></li>
<li><a href="/2010/10/jmx-pour-les-nuls-les-concepts-partie-1.html#distribue">Niveau service distribué</a></li>
</ul>
</li>
<li><a href="/2010/10/jmx-pour-les-nuls-les-concepts-partie-1.html#composant">Composants JMX</a>

<ul>
<li><a href="/2010/10/jmx-pour-les-nuls-les-concepts-partie-1.html#mbean">MBeans</a></li>
<li><a href="/2010/10/jmx-pour-les-nuls-les-concepts-partie-1.html#notification">Modèle de notifications</a></li>
<li><a href="/2010/10/jmx-pour-les-nuls-les-concepts-partie-1.html#metadonnee">Classe de métadonnées de MBeans</a></li>
<li><a href="/2010/10/jmx-pour-les-nuls-les-concepts-partie-1.html#serveur">Serveur de MBeans</a></li>
<li><a href="/2010/10/jmx-pour-les-nuls-les-concepts-partie-1.html#service">Service d&#8217;agents</a></li>
</ul>
</li>
</ul>
</li>
<li>Spécifications

<ul>
<li><a href="/2010/11/jmx-pour-les-nuls-les-differents-mbeans.html">JMX Instrumentation</a>

<ul>
<li><a href="/2010/11/jmx-pour-les-nuls-les-differents-mbeans.html#mbean">MBean</a>

<ul>
<li><a href="/2010/11/jmx-pour-les-nuls-les-differents-mbeans.html#mbean_standard">MBean Standard</a></li>
<li><a href="/2010/11/jmx-pour-les-nuls-les-differents-mbeans.html#mbean_dynamic">Dynamic MBean</a></li>
</ul>
</li>
<li><a href="/2010/11/jmx-pour-les-nuls-les-differents-mbeans.html#notification">Notification</a></li>
<li><a href="/2010/11/jmx-pour-les-nuls-les-differents-mbeans.html#mbean_open">Open MBean</a></li>
<li><a href="/2010/11/jmx-pour-les-nuls-les-differents-mbeans.html#mbean_model">Model MBean</a></li>
</ul>
</li>
<li><a href="/2010/11/jmx-pour-les-nuls-les-agents-jmx-partie.html#agent">Agent JMX</a></li>
<li><a href="/2010/11/jmx-pour-les-nuls-les-classes-de-base.html">Concepts</a>

<ul>
<li><a href="/2010/11/jmx-pour-les-nuls-les-classes-de-base.html#objectName">ObjectName</a></li>
<li><a href="/2010/11/jmx-pour-les-nuls-les-classes-de-base.html#objectInstance">ObjectInstance</a></li>
<li><a href="/2010/11/jmx-pour-les-nuls-les-classes-de-base.html#attribute">Attribute et AttributeList</a></li>
<li><a href="/2010/11/jmx-pour-les-nuls-les-classes-de-base.html#exception">Les Exceptions</a></li>
</ul>
</li>
<li><a href="/2010/11/jmx-pour-les-nuls-le-mbean-server.html#mbean_server">MBean Server</a></li>
<li><a href="/2010/12/jmx-pour-les-nuls-chargement-dynamique.html#mbean_dynamic">Chargement dynamique des MBeans</a></li>
<li><a href="/2010/12/jmx-pour-les-nuls-les-services-jmx.html">Les services JMX</a>

<ul>
<li><a href="/2010/12/jmx-pour-les-nuls-les-services-jmx.html#monitoring">Service Monitoring</a></li>
<li><a href="/2010/12/jmx-pour-les-nuls-les-services-jmx.html#timer">Service Timer</a></li>
<li><a href="/2010/12/jmx-pour-les-nuls-les-services-jmx.html#relation">Service Relation</a></li>
<li><a href="/2010/12/jmx-pour-les-nuls-les-services-jmx.html#securite">Service Sécurité</a></li>
</ul>
</li>
<li><a href="/2010/12/jmx-pour-les-nuls-les-connecteurs.html#connector">Les Connecteurs</a></li>
</ul>
</li>
</ul>


<p><a name="mbean_server"></a></p>

<h1>MBean Server</h1>

<p>Le MBean Server est un annuaire de MBeans se trouvant dans l&#8217;agent JMX. Il permet de fournir les services que manipulent les MBeans et toutes les opérations d&#8217;administration et de supervision, qui sont fournies par le MBean, le sont au travers de l&#8217;interface <code>MBeanServer</code> :</p>

<ul>
<li>Les MBeans qui représentent une ressource managée qui peuvent être n&#8217;importe quelle application, des ressources système ou réseaux tant qu&#8217;elles sont représentés par une interface Java ou un wrappeur Java.</li>
<li>Les MBeans qui ajoutent des fonctionnalités de management qui peuvent être génériques (par exemple, des fonctionnalités de journalisation ou de monitoring) ou plus spécifique à une technologie ou à un domaine d&#8217;application.</li>
<li>Les composants de l&#8217;infrastructure comme les serveurs de connecteurs et les adaptateurs de protocole.</li>
</ul>


<p>Pour ce faire, l&#8217;agent JMX propose une classe factory pour trouver ou créer un MBean Server qui peut ne pas êre unique dans un agent JMX.</p>

<p>L&#8217;interface <code>MBeanServer</code> définie les opérations accessible sur un agent JMX.</p>

<p><img src="http://3.bp.blogspot.com/_XLL8sJPQ97g/TOlMH2RYqlI/AAAAAAAAAOY/rcYE9XfKwrQ/s1600/jmx43.png" alt="medium" /></p>

<p>La classe <code>MBeanServerFactory</code> dispose de méthodes statiques permettant de retourner une instance de l&#8217;implémentation de l&#8217;interface <code>MBeanServer</code>.</p>

<p>Lorsque l&#8217;implémentation du MBean Server est créée, il est possible d&#8217;indiquer le nom du domaine par défaut utilisé dans l&#8217;agent JMX qu&#8217;il représente. Ce sont ces méthodes qui sont également utilisées par l&#8217;agent JMX pour créer un ou plusieurs MBean Server.</p>

<p>Dans le cas où ce sont des méthodes de recherche et de récupération du MBean Server déjà créé dans l&#8217;agent JMX, les classes chargées dans la JVM peuvent accéder aux MBean Server déjà existant sans avoir à connaitre l&#8217;agent JMX.</p>

<table border="1" cellpadding="0" cellspacing="0" style="text-align: justify;" width="100%"><tbody>
<tr><td style="border: 0px; text-align: center;"><a href="http://3.bp.blogspot.com/_XLL8sJPQ97g/TNCS7qzv19I/AAAAAAAAAL4/6qkEYy4pX6o/s1600/remarque.png" imageanchor="1" style="clear: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/_XLL8sJPQ97g/TNCS7qzv19I/AAAAAAAAAL4/6qkEYy4pX6o/s1600/remarque.png" style="cursor: move;" /></a></td> <td style="border: 0px;">
Depuis Java 5, toute application Java possède un MBean Server qui peut être obtenu via la méthode java.lang.management.ManagementFactory.getPlatformMBeanServer()
</ul></td></tr>
</tbody></table>


<p><img src="http://3.bp.blogspot.com/_XLL8sJPQ97g/TOlM8DBItVI/AAAAAAAAAOc/GK-kgJY2Hos/s1600/jmx46.png" alt="center" /></p>

<p>L&#8217;accès aux méthodes statiques de la classe <code>MBeanServerFactory</code> est controlé par la classe <code>MBeanServerPermission</code>. Cette classe étend les classes de permissions basiques de Java et permet l&#8217;accès aux opérations suivantes :</p>

<ul>
<li><code>createMBeanServer</code></li>
<li><code>findMBeanServer</code></li>
<li><code>newMBeanServer</code></li>
<li><code>releaseMBeanServer</code></li>
</ul>


<p><img src="http://4.bp.blogspot.com/_XLL8sJPQ97g/TOlQlzvrRwI/AAAAAAAAAPM/6MVsoLxzkxM/s1600/jmx47.png" alt="medium" /></p>

<p>L&#8217;enregistrement des MBeans au sein du MBean Server peut être fait soit via l&#8217;agent JMX, soit via un autre MBean. Pour ce faire, l&#8217;interface <code>MBeanServer</code> propose deux types d&#8217;enregistrement :</p>

<ul>
<li>l&#8217;instanciation d&#8217;un nouveau MBean et son enregistrement en une seule opération. Dans ce cas, le chargement de la classe Java du MBean peut être fait en utilisant le classe loader par défaut ou en en explicitant un,</li>
<li>l&#8217;enregistrement d&#8217;un MBean déjà existant.</li>
</ul>


<p>Dans ces deux cas, un <code>ObjectName</code> doit être associé au MBean lors de son enregistrement afin de l&#8217;identifier de manière unique au sein du contexte du MBean Server.</p>

<p>Le développeur du MBean peut, de plus, avoir la main sur l&#8217;enregistrement et le désenregistrement du MBean au sein du MBean Server en implémentant l&#8217;interface <code>MBeanRegistration</code>. Pour ce faire, le MBean Server vérifie dynamiquement avant (resp. après) l&#8217;exécution de ces opérations si le MBean implémente l&#8217;interface <code>MBeanRegistration</code>. Si c&#8217;est le cas, alors les opérations de callbacks adéquates sont invoquées.</p>

<table border="1" cellpadding="0" cellspacing="0" style="text-align: justify;" width="100%"><tbody>
<tr><td style="border: 0px; text-align: center;"><a href="http://3.bp.blogspot.com/_XLL8sJPQ97g/TNCS7qzv19I/AAAAAAAAAL4/6qkEYy4pX6o/s1600/remarque.png" imageanchor="1" style="clear: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/_XLL8sJPQ97g/TNCS7qzv19I/AAAAAAAAAL4/6qkEYy4pX6o/s1600/remarque.png" style="cursor: move;" /></a></td> <td style="border: 0px;">
L&#8217;implémentation de l&#8217;interface MBeanRegistration est la seule manière de renseigner le MBean sur son environnement et plus particulièrement de lui fournir des informations sur le MBean Server au sein duquel il est enregistré. Cela lui permet, entre autre, d&#8217;obtenir des informations sur les autres MBean présent dans le MBean Server.
</ul></td></tr>
</tbody></table>


<p><img src="http://3.bp.blogspot.com/_XLL8sJPQ97g/TOlRJXtN5FI/AAAAAAAAAPQ/kWtb8jvKMsU/s1600/jmx48.png" alt="medium" /></p>

<p><img src="http://2.bp.blogspot.com/_XLL8sJPQ97g/TOlRaaRexrI/AAAAAAAAAPU/ho2Ok7wJLyE/s1600/jmx49.png" alt="medium" /></p>

<p><img src="http://4.bp.blogspot.com/_XLL8sJPQ97g/TOlRdOCQS3I/AAAAAAAAAPY/qYOspXtPJx0/s1600/jmx50.png" alt="medium" /></p>

<p>Ainsi, l&#8217;interface <code>MBeanServer</code> offre des opérations pour :</p>

<ul>
<li>récupérer un MBean à partir de son <code>ObjectName</code>,</li>
<li>récupérer une collection de MBeans à partir d&#8217;une expression régulière sur son nom en appliquant éventuellement un filtre sur ses attributs,</li>
<li>récupérer la valeur d&#8217;un ou plusieurs attributs d&#8217;un MBean,</li>
<li>invoquer une opération sur un MBean,</li>
<li>d&#8217;introspecter un MBean pour récupérer l&#8217;interface de management d&#8217;un MBean, c&#8217;est-à-dire ses attributs et ses opérations,</li>
<li>s&#8217;enregistrer afin de recevoir les notifications émises par un MBean.</li>
</ul>


<p>Il est à noter que ces méthodes sont génériques, c&#8217;est pourquoi elles se basent toutes sur l&#8217;objectName du MBean. Le rôle du MBean Server est donc, entre autre :</p>

<ul>
<li>de résoudre l&#8217;objectName,</li>
<li>de déterminer si l&#8217;opération invoquer sur le MBean peut être consistante (ie. résolue par le MBean),</li>
<li>de renvoyer le résultat de l&#8217;opération au demandeur si les deux points précédents ont été vérifiés.</li>
</ul>


<p>Cependant, il est également possible, plutôt que d&#8217;utiliser l&#8217;interface <code>MBeanServer</code>, d&#8217;utiliser un proxy. Un proxy est un objet Java implémentant la même interface que le MBean et dont une méthode de son interface est routé au travers du MBean Server vers le MBean. Pour ce faire, la classe statique JMX offre les méthodes utilitaires.</p>

<p><img src="http://1.bp.blogspot.com/_XLL8sJPQ97g/TOlSItzCdaI/AAAAAAAAAPc/MYHC7W_7ORs/s1600/jmx51.png" alt="center" /></p>

<table border="1" cellpadding="0" cellspacing="0" style="text-align: justify;" width="100%"><tbody>
<tr><td style="border: 0px; text-align: center;"><a href="http://3.bp.blogspot.com/_XLL8sJPQ97g/TNCS7qzv19I/AAAAAAAAAL4/6qkEYy4pX6o/s1600/remarque.png" imageanchor="1" style="clear: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/_XLL8sJPQ97g/TNCS7qzv19I/AAAAAAAAAL4/6qkEYy4pX6o/s1600/remarque.png" style="cursor: move;" /></a></td> <td style="border: 0px;">
Le MBean Server défini un domaine particulier appelé JMXImplementation dans lequel un MBean de la classe MBeanServerDelegate est enregistré. Cet objet identifie et décrit le MBean Server dans lequel il est enregistré. Il est également utilisé pour émettre les notifications émises par le MBean Server : ce MBean agit comme un delegate du MBean Server qu&#8217;il représente.<br/>
Son ObjectName est JMXImplementation:type=MBeanServerDelegate et il possède que des attributs en lecture-seule.
<br/>
<img src="http://3.bp.blogspot.com/_XLL8sJPQ97g/TOlStTeaChI/AAAAAAAAAPg/DEI2Md4dIO0/s1600/jmx52.png" alt="medium"/>
</ul></td></tr>
</tbody></table>


<p>Les méthodes <code>queryMBeans(ObjectName, QueryExp)</code> et <code>queryNames(ObjectName, QueryExp)</code> de récupération d&#8217;un MBean permettent de fournir une requête afin de minimiser la recherche au sein du MBean Server. Pour ce faire, ces méthodes prennent en paramètre :</p>

<ul>
<li>un <code>ObjectName</code> sous forme de pattern qui correspond à la portée de la requête et qui permet de spécifier le nom de l&#8217;<code>ObjectName</code> des MBeans à rechercher,</li>
<li>un critère de filtre sur la valeur des attributs qui s&#8217;applique aux MBeans trouvés par le premier paramètre.</li>
</ul>


<p>Dans le cas où la requête ne trouve pas de MBeans ou qu&#8217;aucun MBean trouvé ne répond aux critères fournis, le résultat ne contiendra pas d&#8217;éléments.</p>

<p>Dans le cas où le pattern de l&#8217;ObjectName est null, alors la portée de la recherche se fera dans tout le MBean Server.</p>

<p>Dans le cas où le critère de filtre est null, alors le résultat n&#8217;est pas filtré et correspond à tous les éléments se trouvant dans la portée de la requête.</p>

<table border="1" cellpadding="0" cellspacing="0" style="text-align: justify;" width="100%"><tbody>
<tr><td style="border: 0px; text-align: center;"><a href="http://3.bp.blogspot.com/_XLL8sJPQ97g/TNCS7qzv19I/AAAAAAAAAL4/6qkEYy4pX6o/s1600/remarque.png" imageanchor="1" style="clear: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/_XLL8sJPQ97g/TNCS7qzv19I/AAAAAAAAAL4/6qkEYy4pX6o/s1600/remarque.png" style="cursor: move;" /></a></td> <td style="border: 0px;">
Le MBeanServerDelegate est accessible lors de la recherche de MBeans.
</ul></td></tr>
</tbody></table>


<p>La portée de la requête doit avoir la forme telle que celle vu dans la <a href="/2010/11/jmx-pour-les-nuls-les-classes-de-base.html">quatrième partie</a> de cette série de post sur JMX.</p>

<p>Le critère de filtre doit utiliser les classes et interfaces suivantes :</p>

<ul>
<li>L&#8217;interface <code>QueryExp</code> qui permet d&#8217;identifier les objets qui forme les expressions de la requête. Ces objets peuvent être utilisés dans une requête ou peuvent composés une requête plus complexe.</li>
<li>Les interfaces <code>ValueExp</code> et <code>StringValueExp</code> qui permettent d&#8217;identifier les objets qui représentent les valeurs numériques ou de type chaîne de caractères.</li>
<li>L&#8217;interface <code>AttributeValueExp</code> qui permet d&#8217;identifier les objets qui représentent les attributs.</li>
<li>La classe <code>Query</code> qui permet la construction d&#8217;une requête. Elle propose des méthodes statiques qui retournent des objets de type <code>QueryExp</code> et <code>ValueExp</code>.</li>
<li>La classe <code>ObjectName</code> qui implémente l&#8217;interface QueryExp et qui peut donc être utilisé dans un critère de filtre.</li>
</ul>


<p>Dans la pratique, il n&#8217;est pas nécessaire d&#8217;avoir à utiliser directement les interfaces <code>ValueExp</code> et <code>QueryExp</code>. En effet, la classe Query fonctionne comme une fabrique d&#8217;objets de type <code>QueryExp</code>.</p>

<p><img src="http://3.bp.blogspot.com/_XLL8sJPQ97g/TOlUQAX1lSI/AAAAAAAAAPk/ILENCvAgkPQ/s1600/jmx53.png" alt="medium" /></p>

<p>Ainsi, on pourra, par exemple, avoir le code suivant :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">QueryExp</span> <span class="n">exp</span> <span class="o">=</span> <span class="n">Query</span><span class="o">.</span><span class="na">and</span><span class="o">(</span>
</span><span class='line'>   <span class="n">Query</span><span class="o">.</span><span class="na">geq</span><span class="o">(</span><span class="n">Query</span><span class="o">.</span><span class="na">attr</span><span class="o">(</span><span class="s">&quot;age&quot;</span><span class="o">),</span>
</span><span class='line'>   <span class="n">Query</span><span class="o">.</span><span class="na">value</span><span class="o">(</span><span class="mi">20</span><span class="o">)),</span>
</span><span class='line'>   <span class="n">Query</span><span class="o">.</span><span class="na">match</span><span class="o">(</span><span class="n">Query</span><span class="o">.</span><span class="na">attr</span><span class="o">(</span><span class="s">&quot;name&quot;</span><span class="o">),</span>
</span><span class='line'>   <span class="n">Query</span><span class="o">.</span><span class="na">value</span><span class="o">(</span><span class="s">&quot;G*ling&quot;</span><span class="o">)));</span>
</span><span class='line'>
</span><span class='line'><span class="n">QueryExp</span> <span class="n">exp</span> <span class="o">=</span> <span class="n">Query</span><span class="o">.</span><span class="na">eq</span><span class="o">(</span>
</span><span class='line'>   <span class="n">Query</span><span class="o">.</span><span class="na">classattr</span><span class="o">(),</span>
</span><span class='line'>   <span class="n">Query</span><span class="o">.</span><span class="na">value</span><span class="o">(</span><span class="s">&quot;managed.device.Printer&quot;</span><span class="o">));</span>
</span></code></pre></td></tr></table></div></figure>


<p>L&#8217;interface <code>MBeanServerConnection</code> étendue par l&#8217;interface <code>MBeanServer</code> permet de fournir une interface commune d&#8217;accès au MBean Server qu&#8217;il soit distant ou local.</p>

<p>Enfin, il est possible de fournir sa propre implémentation du MBean Server en renseignant la propriété système javax.management.builder.initial : lorsque les méthodes <code>createMBeanServer()</code> ou <code>newMBeanServer()</code> sur les <code>MBeanServerFactory</code> sont appelées, alors, si la variable système est renseignée, c&#8217;est le MBean Server qui est renseigné qui est utilisé, sinon, c&#8217;est le MBean Server par défaut.</p>

<p>Ce MBean Server doit être une classe publique qui étend la classe <code>`MBeanServerBuilder</code>. Il est à noter que cette classe doit également pouvoir créer une instance de <code>MBeanServerDelegate</code> (qui peut être standard ou pas).</p>

<p><img src="http://2.bp.blogspot.com/_XLL8sJPQ97g/TOlUoxk6UlI/AAAAAAAAAPo/oPr-jYiJNIw/s1600/jmx54.png" alt="center" /></p>


<footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Khanh Maudoux</span></span>

      </p>
      <p class="meta">
      








  



<time datetime="2010-11-29T16:27:13+01:00" pubdate data-updated="true">November 29, 2010</time> in 

<span class="categories">
  
    <a class='category' href='/blog/categories/java/'>java</a>, <a class='category' href='/blog/categories/jmx/'>jmx</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="https://blog.jetoile.fr/2010/11/jmx-pour-les-nuls-le-mbean-server.html" data-via="jetoile" data-counturl="https://blog.jetoile.fr/2010/11/jmx-pour-les-nuls-le-mbean-server.html" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
</div>

    
</footer>

<!--
<section>
<h1>Comments</h1>
<script>
var idcomments_acct = '1a2a89d3b135fb1f774e938fd286d920';
var idcomments_post_id;
var idcomments_post_url;
</script>
<span id="IDCommentsPostTitle" style="display:none"></span>
<script type='text/javascript' src='http://www.intensedebate.com/js/genericCommentWrapperV2.js'></script>

</section>
-->


  <section>
    <h1>Comments</h1>

    <!--
<div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'jetoile'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
-->

<div id="disqus_thread"></div>
  

<script type="text/javascript">
      var disqus_shortname = 'jetoile';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'https://blog.jetoile.fr/2010/11/jmx-pour-les-nuls-le-mbean-server.html';
        var disqus_url = 'https://blog.jetoile.fr/2010/11/jmx-pour-les-nuls-le-mbean-server.html';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>


  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>

  </section>


      </div>
    </div>
  </div>



</article>

<hr class="divider-short"/>

<div class="archive-link">
  <div class="container">
    <div class="row">
      <a class="pull-center" href="/" title="Home">Home</a>
    </div>
    <div class="row">
      <div class="col-md-8 col-md-offset-2">
        
          <a class="pull-left" href="/2010/11/jmx-pour-les-nuls-les-classes-de-base.html" title="Previous Post: JMX pour les nuls... - Les classes de base - Partie 4">&laquo; Previous: JMX pour les nuls... - Les classes de base - Partie 4</a>
        

        
          <a class="pull-right" href="/2010/12/jmx-pour-les-nuls-chargement-dynamique.html" title="Next Post: JMX pour les nuls... - Chargement dynamique de MBeans - Partie 6">Next: JMX pour les nuls... - Chargement dynamique de MBeans - Partie 6 &raquo;</a>
        
      </div>
    </div>
  </div>
</div>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
<script type="text/javascript">
  window.___gcfg = {lang: 'fr'};

  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/platform.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>

    <footer id="footer" class="her-row">
  <div class="container">
    <div class="row">
      <div id='footer-shadow'></div>
<!--//please give me a respect for keep these credits line -->
<div class='credits'>
<div align='center'>

<table style="border:none;border-spacing: 20px;border-collapse: separate;">
<tr style="border:none">
<td style="border:none">
<a href="http://twitter.com/jetoile" class="twitter-follow-button" data-show-count="false" data-lang="fr">Follow @jetoile</a>
<script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
</td>
<td style="border:none">
<a href="https://plus.google.com/u/0/114765959876500830478/posts?prsrc=3" style="text-decoration: none; color: #333;"><div style="display: inline-block;"><span style="float: left; font: bold 13px/16px arial,sans-serif; margin-right: 4px; margin-top: 7px;">khanh</span><span style="float: left; font: 13px/16px arial,sans-serif; margin-right: 11px; margin-top: 7px;">on</span><div style="float: left;"><img src="/images/gplus-32.png" width="32" height="32" style="border: 0;"/></div><div style="clear: both"></div></div></a>
</td>
<td style="border:none">
<a href="http://fr.linkedin.com/pub/khanh-tuong-maudoux/19/92b/11b"><img src="/images/btn_profile_bluetxt_8
0x15_fr_FR.png" width="80" height="15" border="0" alt="Voir le profil de Khanh Tuong Maudoux sur LinkedIn" /></a>
</td>
</tr>
</table>


<img alt='Jetoile' height='50' src='/images/logoJetoile_v51.png' style='border-width:0; vertical-align: middle' width='180'/>
<p>&#169; 2011 <a href='http://blog.jetoile.fr/'>Je toile ou j* au choix...</a> - Khanh Maudoux</p>
<a href='http://creativecommons.org/licenses/by/4.0/' rel='license'><img alt='Licence Creative Commons' src='/images/creative_common88x31.png' style='border-width:0'/></a> Cette œuvre de <a href='http://blog.jetoile.fr' property='cc:attributionName' rel='cc:attributionURL' xmlns:cc='http://creativecommons.org/ns#'>http://blog.jetoile.fr</a> est mise à disposition selon les termes de la <a href='http://creativecommons.org/licenses/by/4.0/' rel='license'>licence Creative Commons Attribution 4.0 International</a>.
<!--img alt='Creative Commons License' src='http://i.creativecommons.org/l/by/2.0/fr/88x31.png' style='border-width:0; vertical-align: middle;'/> <small>Sauf mention contraire, le contenu de ce blog est mis à disposition selon les termes de la licence <a href='http://creativecommons.org/licenses/by/2.0/fr/'>Creative Commons Attribution 2.0 License</a>.</small-->
<br/>
<small>Powered by <a href="http://octopress.org">Octopress</a><br/>
</small>
</div>
</div>


    </div>
  </div>
</footer>

  </body>
</html>
