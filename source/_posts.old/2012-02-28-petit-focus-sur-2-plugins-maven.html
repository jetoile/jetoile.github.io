---
layout: post
title: "Petit focus sur 2 plugins Maven"
date: 2012-02-28
comments: false
categories:
 - java
 - plugin
 - intégration continue
 - maven
---

<div class='post'>
<div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-l-NZQRxE0vI/TevA5LfJQ_I/AAAAAAAAAXI/IP8zRk4wbeg/s1600/maven-logo-2.gif" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="118" src="http://1.bp.blogspot.com/-l-NZQRxE0vI/TevA5LfJQ_I/AAAAAAAAAXI/IP8zRk4wbeg/s400/maven-logo-2.gif" width="400" /></a></div><div style="text-align: justify;">Bon, ça fait un moment que je n'ai rien écrit... je n'ai pas foncièrement d'excuses si ce n'est que j'ai été pas mal occupé sur un projet sur lequel j'essaierai de faire un petit retour dans un futur proche...</div><br /><div style="text-align: justify;">En fait, dans ce rapide post, je tenais à faire partager 2 "petits" plugins maven que j'ai eu l'opportunité de découvrir récemment par le biais de 2 Olivier :</div><ul><li style="text-align: justify;"><a href="http://twitter.com/olamy">Olivier Lamy</a>&nbsp;(<a href="http://olamy.blogspot.com/">http://olamy.blogspot.com/</a>), qui est architecte open source et commiteur actif de moultes projets (je ne les citerai pas, il y en a trop... ;-) ) et qui travaille chez <a href="http://fr.talend.com/index.php">Talend</a>,</li><li style="text-align: justify;">et <a href="http://twitter.com/obazoud">Olivier Bazoud</a> (<a href="http://blog.bazoud.com/">http://blog.bazoud.com/</a>) qui est architecte chez <a href="http://www.ekino.com/">Ekino</a> et également co-auteur du livre <a href="http://www.manning.com/templier/">Spring Batch In Action</a> aux éditions Manning.</li></ul><div style="text-align: justify;">Les deux plugins sont les suivants :</div><ul><li style="text-align: justify;"><a href="http://tomcat.apache.org/maven-plugin-2.0-SNAPSHOT/tomcat7-maven-plugin/plugin-info.html">Tomcat 7 Maven Plugin</a></li><li style="text-align: justify;"><a href="http://mojo.codehaus.org/appassembler/appassembler-maven-plugin/">Application Assembler Maven Plugin</a></li></ul><div style="text-align: justify;">En fait, je ne rentrerai pas en détail dans les 2 plugins Maven qui, pour un, est assez connu mais je me contenterai juste de décrire les fonctionnalités que j'ai appréciées.</div><div style="text-align: justify;">N'étant pas expert sur ces derniers et n'ayant pas creusé dans tous les paramétrages, j'espère que la présentation qui suit ne dira pas trop de bêtises... ;-)<br /><!-- more --></div><h1>             Application Assembler Maven Plugin</h1><h2>             Description</h2><div><div style="text-align: justify;">[Cette description est une traduction libre de la page officielle du plugin]</div></div><div><div style="text-align: justify;">Le plugin Application Assembler est un plugin maven qui permet de générer les scripts utilisés au démarrage d'une application Java. Pour ce faire, le plugin copie toutes les dépendances et les artifacts du projet dans un répertoire utilisé par le script pour la gestion du classpath de l'application à démarrer.</div></div><div><div style="text-align: justify;">Les plateformes actuellement supportées sont :</div></div><div><ul><li style="text-align: justify;">*Nix,</li><li style="text-align: justify;">Windows NT</li><li style="text-align: justify;">Java Service Wrapper</li></ul></div><h2 style="text-align: justify;">             Cas d'utilisation</h2><div><div style="text-align: justify;">Ce plugin trouve parfaitement sa place pour générer les scripts d'exécution d'une application java standalone (ie. non exécuté au sein d'un conteneur de servlet ou d'un serveur d'application) ou utilisée dans un batch.</div><div style="text-align: justify;">En fait, pour être plus précis, ce plugin dispose de 3 goals :</div><ul><li style="text-align: justify;"><b>appassembler:assemble</b> qui permet de créer une arborescence de fichiers disposant des scripts de lancement de l'application ainsi que de toutes les dépendances nécessaires à son exécution.</li><li style="text-align: justify;"><b>appassembler:create-repository</b> qui permet de créer le répertoire disposant de toutes les librairies nécessaires au bon fonctionnement de l'application.</li><li style="text-align: justify;"><b>appassembler:generate-daemons</b> qui permet de créer une arborescence de fichiers disposant des scripts et des librairies à utiliser pour wrapper l'application dans un service via Java Service Wrapper.&nbsp;</li></ul></div><h2 style="text-align: justify;">             Exemple</h2><div><div style="text-align: justify;">Pour montrer comment peut être utilisé ce plugin, je vais prendre un projet simple (accessible sur mon <a href="http://github.com/jetoile/sample-assembler-plugin">github</a>) qui ne contient qu'une classe disposant d'un main et qui log un message via <i>logback</i> au travers de <i>slf4j</i> (histoire de vérifier le comportement du plugin sur les dépendances).</div><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-Dr-0c8AkLHs/T0tyqJW4UVI/AAAAAAAAAiY/A7dW1I3ve4Q/s1600/appassembler01.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="195" src="http://1.bp.blogspot.com/-Dr-0c8AkLHs/T0tyqJW4UVI/AAAAAAAAAiY/A7dW1I3ve4Q/s320/appassembler01.png" width="320" /></a></div><div>où on a :</div><div><pre class="brush:java; wrap-lines: false; auto-links: false">package com.jetoile.maven.sample;<br /><br />import org.slf4j.Logger;<br />import org.slf4j.LoggerFactory;<br /><br />public class FooClass {<br /><br />    private static final Logger LOGGER = LoggerFactory.getLogger(FooClass.class);<br /><br />    public static void main(String[] args) {<br />        LOGGER.info("this is FooClass sample");<br />    }<br />}<br /></pre><br /></div><div><div style="text-align: justify;">Cet exemple a pour objectif de montrer, dans un premier temps, ce que génère le goal <i>assemble</i> puis, dans un second temps, le goal <i>generate-daemons</i>.</div><br />Pour ce faire, le pom.xml suivant sera utilisé :</div><div><pre class="brush:xml; wrap-lines: false; auto-links: false">&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br />&lt;project xmlns="http://maven.apache.org/POM/4.0.0"<br />         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"<br />         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;<br />    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;<br /><br />    &lt;groupId&gt;com.jetoile.maven.sample&lt;/groupId&gt;<br />    &lt;artifactId&gt;sample-assembler-plugin&lt;/artifactId&gt;<br />    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;<br /><br />    &lt;properties&gt;<br />        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;<br />        &lt;projectBaseUri&gt;${project.baseUri}&lt;/projectBaseUri&gt;<br />        &lt;java.version&gt;1.6&lt;/java.version&gt;<br /><br />        &lt;slf4j.version&gt;1.6.4&lt;/slf4j.version&gt;<br />        &lt;logback.version&gt;1.0.0&lt;/logback.version&gt;<br />    &lt;/properties&gt;<br /><br />    &lt;dependencies&gt;<br />        &lt;dependency&gt;<br />            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;<br />            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;<br />            &lt;version&gt;${slf4j.version}&lt;/version&gt;<br />        &lt;/dependency&gt;<br />        &lt;dependency&gt;<br />            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;<br />            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;<br />            &lt;version&gt;${logback.version}&lt;/version&gt;<br />            &lt;scope&gt;runtime&lt;/scope&gt;<br />        &lt;/dependency&gt;<br />    &lt;/dependencies&gt;<br /><br />    &lt;build&gt;<br />        &lt;plugins&gt;<br />            &lt;plugin&gt;<br />                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;<br />                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;<br />                &lt;version&gt;2.3.2&lt;/version&gt;<br />                &lt;configuration&gt;<br />                    &lt;source&gt;${java.version}&lt;/source&gt;<br />                    &lt;target&gt;${java.version}&lt;/target&gt;<br />                &lt;/configuration&gt;<br />            &lt;/plugin&gt;<br /><br />            &lt;plugin&gt;<br />                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;<br />                &lt;artifactId&gt;appassembler-maven-plugin&lt;/artifactId&gt;<br />                &lt;version&gt;1.2&lt;/version&gt;<br />                &lt;configuration&gt;<br />                    &lt;daemons&gt;<br />                        &lt;daemon&gt;<br />                            &lt;id&gt;mainService&lt;/id&gt;<br />                            &lt;mainClass&gt;com.jetoile.maven.sample.FooClass&lt;/mainClass&gt;<br />                            &lt;commandLineArguments&gt;<br />                                &lt;commandLineArgument&gt;start&lt;/commandLineArgument&gt;<br />                            &lt;/commandLineArguments&gt;<br />                            &lt;platforms&gt;<br />                                &lt;platform&gt;jsw&lt;/platform&gt;<br />                            &lt;/platforms&gt;<br />                            &lt;generatorConfigurations&gt;<br />                                &lt;generatorConfiguration&gt;<br />                                    &lt;generator&gt;jsw&lt;/generator&gt;<br />                                    &lt;includes&gt;<br />                                        &lt;include&gt;linux-x86-32&lt;/include&gt;<br />                                        &lt;include&gt;linux-x86-64&lt;/include&gt;<br />                                    &lt;/includes&gt;<br />                                &lt;/generatorConfiguration&gt;<br />                            &lt;/generatorConfigurations&gt;<br />                        &lt;/daemon&gt;<br />                    &lt;/daemons&gt;<br />                &lt;/configuration&gt;<br />            &lt;/plugin&gt;<br /><br />            &lt;plugin&gt;<br />                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;<br />                &lt;artifactId&gt;appassembler-maven-plugin&lt;/artifactId&gt;<br />                &lt;version&gt;1.2&lt;/version&gt;<br />                &lt;executions&gt;<br />                    &lt;execution&gt;<br />                        &lt;goals&gt;<br />                            &lt;goal&gt;assemble&lt;/goal&gt;<br />                        &lt;/goals&gt;<br />                    &lt;/execution&gt;<br />                &lt;/executions&gt;<br />                &lt;configuration&gt;<br />                    &lt;programs&gt;<br />                        &lt;program&gt;<br />                            &lt;mainClass&gt;com.jetoile.maven.sample.FooClass&lt;/mainClass&gt;<br />                            &lt;name&gt;main&lt;/name&gt;<br />                        &lt;/program&gt;<br />                    &lt;/programs&gt;<br />                    &lt;binFileExtensions&gt;<br />                        &lt;unix&gt;.sh&lt;/unix&gt;<br />                    &lt;/binFileExtensions&gt;<br />                &lt;/configuration&gt;<br />            &lt;/plugin&gt;<br />        &lt;/plugins&gt;<br />    &lt;/build&gt;<br />&lt;/project&gt;<br /></pre><div style="text-align: justify;"><br /></div><div style="text-align: justify;">Dans le <i>pom</i>, on constate que l'exécution du goal <i>assemble</i> n'est pas associé&nbsp;à une phase en particulier. Cependant, c'est la phase <i>package</i> qui est utilisée par défaut. Dans sa configuration (disponible <a href="http://mojo.codehaus.org/appassembler/appassembler-maven-plugin/assemble-mojo.html">ici</a>), il y figure le nom de la classe qui dispose du <i>main</i> ainsi que, via l'élément <i>binFileExtensions</i>, l'extension qui doit être utilisée pour le script dans le monde *Nix.</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">Ainsi, à la commande suivante :</div><pre class="brush:bash; wrap-lines: false; auto-links: false">mvn package<br /></pre><br />on obtient :<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-6TcmRrHkwm8/T0uMn3oeh5I/AAAAAAAAAio/VyNjedWdxm8/s1600/appassembler03.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="400" src="http://4.bp.blogspot.com/-6TcmRrHkwm8/T0uMn3oeh5I/AAAAAAAAAio/VyNjedWdxm8/s400/appassembler03.png" width="303" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"></div>où le <i>main.sh</i> est le suivant :<br /><pre class="brush:bash; wrap-lines: false; auto-links: false">#!/bin/sh<br /># ----------------------------------------------------------------------------<br /># &nbsp;Copyright 2001-2006 The Apache Software Foundation.<br />#<br /># &nbsp;Licensed under the Apache License, Version 2.0 (the "License");<br /># &nbsp;you may not use this file except in compliance with the License.<br /># &nbsp;You may obtain a copy of the License at<br />#<br /># &nbsp; &nbsp; &nbsp; http://www.apache.org/licenses/LICENSE-2.0<br />#<br /># &nbsp;Unless required by applicable law or agreed to in writing, software<br /># &nbsp;distributed under the License is distributed on an "AS IS" BASIS,<br /># &nbsp;WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br /># &nbsp;See the License for the specific language governing permissions and<br /># &nbsp;limitations under the License.<br /># ----------------------------------------------------------------------------<br />#<br /># &nbsp; Copyright (c) 2001-2006 The Apache Software Foundation. &nbsp;All rights<br /># &nbsp; reserved.<br /><br />BASEDIR=`dirname $0`/..<br />BASEDIR=`(cd "$BASEDIR"; pwd)`<br /><br /># OS specific support. &nbsp;$var _must_ be set to either true or false.<br />cygwin=false;<br />darwin=false;<br />case "`uname`" in<br />&nbsp; CYGWIN*) cygwin=true ;;<br />&nbsp; Darwin*) darwin=true<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if [ -z "$JAVA_VERSION" ] ; then<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;JAVA_VERSION="CurrentJDK"<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo "Using Java version: $JAVA_VERSION"<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fi<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if [ -z "$JAVA_HOME" ] ; then<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;JAVA_HOME=/System/Library/Frameworks/JavaVM.framework/Versions/${JAVA_VERSION}/Home<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fi<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;;<br />esac<br /><br />if [ -z "$JAVA_HOME" ] ; then<br />&nbsp; if [ -r /etc/gentoo-release ] ; then<br />&nbsp; &nbsp; JAVA_HOME=`java-config --jre-home`<br />&nbsp; fi<br />fi<br /><br /># For Cygwin, ensure paths are in UNIX format before anything is touched<br />if $cygwin ; then<br />&nbsp; [ -n "$JAVA_HOME" ] &amp;&amp; JAVA_HOME=`cygpath --unix "$JAVA_HOME"`<br />&nbsp; [ -n "$CLASSPATH" ] &amp;&amp; CLASSPATH=`cygpath --path --unix "$CLASSPATH"`<br />fi<br /><br /># If a specific java binary isn't specified search for the standard 'java' binary<br />if [ -z "$JAVACMD" ] ; then<br />&nbsp; if [ -n "$JAVA_HOME" &nbsp;] ; then<br />&nbsp; &nbsp; if [ -x "$JAVA_HOME/jre/sh/java" ] ; then<br />&nbsp; &nbsp; &nbsp; # IBM's JDK on AIX uses strange locations for the executables<br />&nbsp; &nbsp; &nbsp; JAVACMD="$JAVA_HOME/jre/sh/java"<br />&nbsp; &nbsp; else<br />&nbsp; &nbsp; &nbsp; JAVACMD="$JAVA_HOME/bin/java"<br />&nbsp; &nbsp; fi<br />&nbsp; else<br />&nbsp; &nbsp; JAVACMD=`which java`<br />&nbsp; fi<br />fi<br /><br />if [ ! -x "$JAVACMD" ] ; then<br />&nbsp; echo "Error: JAVA_HOME is not defined correctly."<br />&nbsp; echo " &nbsp;We cannot execute $JAVACMD"<br />&nbsp; exit 1<br />fi<br /><br />if [ -z "$REPO" ]<br />then<br />&nbsp; REPO="$BASEDIR"/repo<br />fi<br /><br />CLASSPATH=$CLASSPATH_PREFIX:"$BASEDIR"/etc:"$REPO"/org/slf4j/slf4j-api/1.6.4/slf4j-api-1.6.4.jar:"$REPO"/ch/qos/logback/logback-classic/1.0.0/logback-classic-1.0.0.jar:"$REPO"/ch/qos/logback/logback-core/1.0.0/logback-core-1.0.0.jar:"$REPO"/com/jetoile/maven/sample/sample-assembler-plugin/1.0-SNAPSHOT/sample-assembler-plugin-1.0-SNAPSHOT.jar<br /><br />EXTRA_JVM_ARGUMENTS=""<br /><br /># For Cygwin, switch paths to Windows format before running java<br />if $cygwin; then<br />&nbsp; [ -n "$CLASSPATH" ] &amp;&amp; CLASSPATH=`cygpath --path --windows "$CLASSPATH"<br />&nbsp; [ -n "$JAVA_HOME" ] &amp;&amp; JAVA_HOME=`cygpath --path --windows "$JAVA_HOME"<br />  [ -n "$HOME" ] &amp;&amp; HOME=`cygpath --path --windows "$HOME"`<br />&nbsp; [ -n "$BASEDIR" ] &amp;&amp; BASEDIR=`cygpath --path --windows "$BASEDIR"`<br />&nbsp; [ -n "$REPO" ] &amp;&amp; REPO=`cygpath --path --windows "$REPO"`<br />fi<br /><br />exec "$JAVACMD" $JAVA_OPTS \<br />&nbsp; $EXTRA_JVM_ARGUMENTS \<br />&nbsp; -classpath "$CLASSPATH" \<br />&nbsp; -Dapp.name="main" \<br />&nbsp; -Dapp.pid="$$" \<br />&nbsp; -Dapp.repo="$REPO" \<br />&nbsp; -Dbasedir="$BASEDIR" \<br />&nbsp; com.jetoile.maven.sample.FooClass \<br />&nbsp; "$@"<br /></pre></div><br />Après un rapide :<br /><pre class="brush:bash; wrap-lines: false; auto-links: false">chmod +x target/appassembler/bin/main.sh<br /></pre><div style="text-align: justify;">Le résultat escompté est obtenu.</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">Afin de tester la génération de la couche wrapper <i>Java Service Wrapper</i>, le <i>pom.xml</i> contient également la déclaration du plugin&nbsp;<b>appassembler-maven-plugin</b> associé aux paramètres de configuration nécessaire à la génération du service. Pour cette partie, j'ai choisi de ne pas l'associer à une phase mais de l'exécuter manuellement :</div><pre class="brush:xml; wrap-lines: false; auto-links: false">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;plugin&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;artifactId&gt;appassembler-maven-plugin&lt;/artifactId&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;version&gt;1.2&lt;/version&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;configuration&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;daemons&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;daemon&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;id&gt;mainService&lt;/id&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;mainClass&gt;com.jetoile.maven.sample.FooClass&lt;/mainClass&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;commandLineArguments&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;commandLineArgument&gt;start&lt;/commandLineArgument&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/commandLineArguments&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;platforms&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;platform&gt;jsw&lt;/platform&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/platforms&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;generatorConfigurations&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;generatorConfiguration&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;generator&gt;jsw&lt;/generator&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;includes&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;include&gt;linux-x86-32&lt;/include&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;include&gt;linux-x86-64&lt;/include&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/includes&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/generatorConfiguration&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/generatorConfigurations&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/daemon&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/daemons&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/configuration&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/plugin&gt;<br /></pre><br />Ainsi, après l'exécution de la commande :<br /><pre class="brush:bash; wrap-lines: false; auto-links: false">mvn appassembler:generate-daemons</pre><br />on obtient :<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-zDcT-L4IP74/T0uawGcSPCI/AAAAAAAAAiw/j8giu9U41wI/s1600/appassembler04.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="320" src="http://2.bp.blogspot.com/-zDcT-L4IP74/T0uawGcSPCI/AAAAAAAAAiw/j8giu9U41wI/s320/appassembler04.png" width="305" /></a></div><br /><div style="text-align: justify;">Cependant, après un rapide <b>chmod</b> sur les fichiers mainService et wrapper-linux-x86-64, la première tentative d'exécution échoue... &nbsp;:(</div><pre class="brush:bash; wrap-lines: false; auto-links: false">chmod +x target/generated-resources/appassembler/jsw/mainService/bin/mainService<br />chmod +x target/generated-resources/appassembler/jsw/mainService/bin/wrapper-linux-x86-64<br />./target/generated-resources/appassembler/jsw/mainService/bin/mainService start<br /></pre><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-RJ0R6CrTvU8/T0uczKHGWqI/AAAAAAAAAi4/gd7ftUBeKh8/s1600/appassembler05.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="75" src="http://2.bp.blogspot.com/-RJ0R6CrTvU8/T0uczKHGWqI/AAAAAAAAAi4/gd7ftUBeKh8/s640/appassembler05.png" width="640" /></a></div><br />Un rapide coup d'oeil au fichier wrapper.log... :'(<br />Qu'à cela ne tienne, s'il n'y manque le répertoire logs, il suffit de le créer...<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-VQFurPRDpUI/T0udmE8zNvI/AAAAAAAAAjA/LBpih32n8XI/s1600/appassembler06.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="178" src="http://3.bp.blogspot.com/-VQFurPRDpUI/T0udmE8zNvI/AAAAAAAAAjA/LBpih32n8XI/s640/appassembler06.png" width="640" /></a></div><div style="text-align: justify;">Arf... encore loupé...</div><div style="text-align: justify;">A priori, il semble que le classpath soit on ne peut plus... foireux...</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">Après un rapide coup d'oeil au fichier <i>wrapper.conf</i>, &nbsp;on peut remarquer les lignes suivantes :</div><pre class="brush:bash; wrap-lines: false; auto-links: false">wrapper.java.mainclass=org.tanukisoftware.wrapper.WrapperSimpleApp<br />set.default.REPO_DIR=repo<br />set.default.APP_BASE=.<br /><br /># Java Classpath (include wrapper.jar) &nbsp;Add class path elements as<br /># &nbsp;needed starting from 1<br />wrapper.java.classpath.1=lib/wrapper.jar<br />wrapper.java.classpath.2=%REPO_DIR%/com/jetoile/maven/sample/sample-assembler-plugin/1.0-SNAPSHOT/sample-assembler-plugin-1.0-SNAPSHOT.jar<br />wrapper.java.classpath.3=%REPO_DIR%/org/slf4j/slf4j-api/1.6.4/slf4j-api-1.6.4.jar<br />wrapper.java.classpath.4=%REPO_DIR%/ch/qos/logback/logback-classic/1.0.0/logback-classic-1.0.0.jar<br />wrapper.java.classpath.5=%REPO_DIR%/ch/qos/logback/logback-core/1.0.0/logback-core-1.0.0.jar</pre><br />hum... l'explication est là... il semble qu'il manque le répertoire <i>repo</i> où les librairies sont recherchées...<br />Un petit coup de :<br /><pre class="brush:bash; wrap-lines: false; auto-links: false">mvn appassembler:appassembler:create-repository</pre><div style="text-align: justify;">devrait permettre de créer le fichier <i>repo</i> dans le répertoire <i>target/appassembler</i>, et un&nbsp;petit <i>cp</i> devrait tout remettre dans l'ordre... en fait, non!</div><div style="text-align: justify;">Il manque l'archetype de notre application dans le répertoire <i>repo</i>... (d'un coté, pour les personnes qui ont suivi, cela était visible dans un des screenshots précédents...)</div><div style="text-align: justify;">Bon, je vous passe les quelques commandes à base de <i>mvn</i> et <i>cp</i> que j'ai effectué pour, au final, obtenir :</div><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-5JoIX1E06E8/T0ugnyyJ4YI/AAAAAAAAAjI/b66wqmxMFtM/s1600/appassembler07.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="244" src="http://1.bp.blogspot.com/-5JoIX1E06E8/T0ugnyyJ4YI/AAAAAAAAAjI/b66wqmxMFtM/s640/appassembler07.png" width="640" /></a></div><br /><h2>             Conclusion</h2><div><div><div style="text-align: justify;">Ce qui m'a intéressé dans ce plugin est qu'il s'occupe de générer automatiquement les scripts nécessaires au lancement de l'application. En effet, il est toujours possible d'utiliser le plugin assembly (tel que je l'avais décrit&nbsp;<a href="http://jetoile.blogspot.com/2010/02/de-l-du-livrable.html">ici</a>), mais cette solution reste assez verbeuse et rébarbative.</div></div><div><div style="text-align: justify;">Aussi, avoir la possibilité, en n'ayant qu'à appeler ou qu'à associer un goal à une phase du cycle de vie du projet pour générer les scripts est assez tentant.</div></div><div><div style="text-align: justify;">En outre, le plugin permet également de wrapper l'application dans un service via Java Service Wrapper.</div></div><div><div style="text-align: justify;"><br /></div></div><div><div style="text-align: justify;">Par contre, il peut sembler dommage que le "livrable" (au sens&nbsp;naïf&nbsp;du terme) ainsi produit ne puisse pas être considéré comme un archetype (et être déployé automatiquement sur un&nbsp;<i>repository manager</i>&nbsp;afin&nbsp;qu'il puisse être directement utilisable par d'éventuels&nbsp;<i>OPS</i>). Cependant, concernant ce point, vu que l'on s'appuie alors sur un plugin maven (dont la version est, bien sûr,&nbsp;maîtrisée), l'utilisateur est garanti d'avoir un script fonctionnel et reproductible.</div></div><div><div style="text-align: justify;">Concernant la partie <i>Java Service Wrapper</i>, il semble, cependant, qu'il faille "retoucher" un peu ce qui est généré puisqu'il manque le répertoire <i>repo</i>&nbsp;(utilisé par le fichier <i>wrapper.conf</i> (chargé par Java Service Wrapper)) nécessaire au chargement du classpath à l'exécution du service.&nbsp;</div></div><div><div style="text-align: justify;">Autre point un peu dommage est que les droits d'exécution ne soient pas directement positionnés sur les scripts .sh.</div></div></div><h1>             Tomcat 7 Maven Plugin</h1><h2>                        Description</h2><div><div style="text-align: justify;">Le plugin Tomcat7&nbsp;Maven&nbsp;Plugin permet (pour ceux qui ne le savent pas encore... ;-) ) de déployer une application web dans le conteneur de servlets Tomcat 7 via &nbsp;le goal <i>deploy</i>.&nbsp;</div></div><div><div style="text-align: justify;">Il permet, en outre, de démarrer directement un Tomcat de manière embedded à Maven (un peu comme le plugin jetty) via le goal <i>run</i>.</div></div><div><div style="text-align: justify;">Cependant, ce n'est pas pour ces fonctionnalités que je tenais à parler de ce plugin.</div></div><div><div style="text-align: justify;">En effet, le plugin Tomcat7 dispose d'une fonctionnalité "amusante", à savoir la possibilité de générer un jar exécutable embarquant directement un Tomcat 7.</div></div><div><div style="text-align: justify;"><br /></div></div><div><div style="text-align: justify;">En outre, de manière "un peu" transverse à ce plugin, un <a href="http://tomcat.apache.org/maven-plugin-2.0-beta-1/archetype.html">archetype</a> existe également. Il permet de <i>settuper</i> un projet exposant un service REST via Apache CXF et qui dispose de tests d'intégration via Selenium.</div></div><h2>                       Cas d'utilisation</h2><div>Tomcat7 Maven Plugin dispose des <a href="http://tomcat.apache.org/maven-plugin-2.0-SNAPSHOT/tomcat7-maven-plugin/plugin-info.html">goals</a> suivants (que je décrirai pas...) :</div><div><div><ul><li>tomcat7:deploy<span class="Apple-tab-span" style="white-space: pre;"> </span></li><li>tomcat7:deploy-only<span class="Apple-tab-span" style="white-space: pre;"> </span></li><li>tomcat7:exec-war<span class="Apple-tab-span" style="white-space: pre;"> </span></li><li>tomcat7:exec-war-only<span class="Apple-tab-span" style="white-space: pre;"> </span></li><li>tomcat7:run<span class="Apple-tab-span" style="white-space: pre;"> </span></li><li>tomcat7:run-war<span class="Apple-tab-span" style="white-space: pre;"> </span></li><li>tomcat7:run-war-only<span class="Apple-tab-span" style="white-space: pre;"> </span></li><li>tomcat7:shutdown</li></ul><div>Concernant l'archetype, il est très bien décrit à la page suivante :</div></div></div><div><a href="http://tomcat.apache.org/maven-plugin-2.0-beta-1/archetype.html">http://tomcat.apache.org/maven-plugin-2.0-beta-1/archetype.html</a></div><h2>                        Exemple</h2><div><div><h3>            Maven Tomcat 7 Plugin</h3><div style="text-align: justify;">Comme je l'ai dit précédemment, je ne reviendrai pas sur l'utilisation des goals <i>run</i> et <i>deploy</i> mais me focaliserai plutôt sur le goal exec-war.</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">Pour montrer comment peut être utilisé ce plugin, je vais prendre un projet simple (accessible sur mon&nbsp;<a href="http://github.com/jetoile/sample-tomcat-plugin">github</a>) qui ne contient qu'un simple Servlet <i>FooServlet</i>.</div><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-ai5ZyP1YbgY/T0u6selcDwI/AAAAAAAAAjQ/Uq8UY04YtRw/s1600/tomcat01.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="226" src="http://2.bp.blogspot.com/-ai5ZyP1YbgY/T0u6selcDwI/AAAAAAAAAjQ/Uq8UY04YtRw/s320/tomcat01.png" width="320" /></a></div><br /></div><div class="separator" style="clear: both; text-align: center;"></div><div>où on a :</div><div><pre class="brush:java; wrap-lines: false; auto-links: false">package com.jetoile.maven.tomcat.sample;<br /><br />import javax.servlet.ServletException;<br />import javax.servlet.http.HttpServlet;<br />import javax.servlet.http.HttpServletRequest;<br />import javax.servlet.http.HttpServletResponse;<br />import java.io.IOException;<br />import java.io.Writer;<br /><br />public class FooServlet extends HttpServlet {<br />    @Override<br />    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {<br />        Writer out = resp.getWriter();<br />        out.append("GET FooServlet successfully called...");<br />        out.flush();<br />        out.close();<br />    }<br />}<br /></pre><div><br />pour le web.xml :<br /><br /><pre class="brush:xml; wrap-lines: false; auto-links: false">&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br />&lt;web-app xmlns="http://java.sun.com/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;version="3.0"&gt;<br /><br />&nbsp; &nbsp; &lt;servlet&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;servlet-name&gt;FooServlet&lt;/servlet-name&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;servlet-class&gt;com.jetoile.maven.tomcat.sample.FooServlet&lt;/servlet-class&gt;<br />&nbsp; &nbsp; &lt;/servlet&gt;<br />&nbsp; &nbsp;<br />  &nbsp; &lt;servlet-mapping&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;servlet-name&gt;FooServlet&lt;/servlet-name&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;url-pattern&gt;/*&lt;/url-pattern&gt;<br />&nbsp; &nbsp; &lt;/servlet-mapping&gt;<br />&lt;/web-app&gt;<br /><br /></pre></div></div><div>Le pom.xml qui est utilisé est le suivant :</div><div><pre class="brush:xml; wrap-lines: false; auto-links: false">&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br />&lt;project xmlns="http://maven.apache.org/POM/4.0.0"<br />         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"<br />         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;<br />    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;<br /><br />    &lt;groupId&gt;com.jetoile.maven.tomcat.sample&lt;/groupId&gt;<br />    &lt;artifactId&gt;sample-tomcat-plugin&lt;/artifactId&gt;<br />    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;<br />    &lt;packaging&gt;war&lt;/packaging&gt;<br /><br />    &lt;properties&gt;<br />        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;<br />        &lt;projectBaseUri&gt;${project.baseUri}&lt;/projectBaseUri&gt;<br />        &lt;java.version&gt;1.6&lt;/java.version&gt;<br /><br />        &lt;servlet-api.version&gt;3.0-alpha-1&lt;/servlet-api.version&gt;<br />    &lt;/properties&gt;<br /><br />    &lt;dependencies&gt;<br />        &lt;dependency&gt;<br />            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;<br />            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;<br />            &lt;version&gt;${servlet-api.version}&lt;/version&gt;<br />            &lt;scope&gt;provided&lt;/scope&gt;<br />        &lt;/dependency&gt;<br />    &lt;/dependencies&gt;<br /><br />    &lt;build&gt;<br />        &lt;plugins&gt;<br />            &lt;plugin&gt;<br />                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;<br />                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;<br />                &lt;version&gt;2.3.2&lt;/version&gt;<br />                &lt;configuration&gt;<br />                    &lt;source&gt;${java.version}&lt;/source&gt;<br />                    &lt;target&gt;${java.version}&lt;/target&gt;<br />                &lt;/configuration&gt;<br />            &lt;/plugin&gt;<br /><br />            &lt;plugin&gt;<br />                &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;<br />                &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;<br />                &lt;version&gt;2.0-SNAPSHOT&lt;/version&gt;<br /><br />                &lt;executions&gt;<br />                    &lt;execution&gt;<br />                        &lt;id&gt;tomcat-war-exec&lt;/id&gt;<br />                        &lt;goals&gt;<br />                            &lt;goal&gt;exec-war&lt;/goal&gt;<br />                        &lt;/goals&gt;<br />                        &lt;phase&gt;package&lt;/phase&gt;<br />                        &lt;configuration&gt;<br />                            &lt;warRunDependencies&gt;<br />                                &lt;warRunDependency&gt;<br />                                    &lt;dependency&gt;<br />                                        &lt;groupId&gt;com.jetoile.maven.tomcat.sample&lt;/groupId&gt;<br />                                        &lt;artifactId&gt;sample-tomcat-plugin&lt;/artifactId&gt;<br />                                        &lt;version&gt;${project.version}&lt;/version&gt;<br />                                        &lt;type&gt;war&lt;/type&gt;<br />                                    &lt;/dependency&gt;<br />                                &lt;/warRunDependency&gt;<br />                            &lt;/warRunDependencies&gt;<br />                        &lt;/configuration&gt;<br />                    &lt;/execution&gt;<br />                &lt;/executions&gt;<br />            &lt;/plugin&gt;<br />        &lt;/plugins&gt;<br />    &lt;/build&gt;<br />&lt;/project&gt;<br /></pre><br />On constate que le goal <b>exec-war</b> est associé à la phase package.<br /><br />Ainsi, en exécutant la commande suivante :<br /><pre class="brush:bash; wrap-lines: false; auto-links: false">mvn package<br /></pre><br />on obtient :<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-2AcPO28rAXU/T0u7_kOTMYI/AAAAAAAAAjY/TTEYG1XHSUg/s1600/tomcat02.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="297" src="http://1.bp.blogspot.com/-2AcPO28rAXU/T0u7_kOTMYI/AAAAAAAAAjY/TTEYG1XHSUg/s320/tomcat02.png" width="320" /></a></div><br />Ainsi, avec la commande suivante :<br /><pre class="brush:bash; wrap-lines: false; auto-links: false">cd target<br />java -jar sample-tomcat-plugin-1.0-SNAPSHOT-war-exec.jar</pre><br />il devient alors possible via notre navigateur préféré (à l'url suivante :&nbsp;<a href="http://localhost:8080/sample-tomcat-plugin/">http://localhost:8080/sample-tomcat-plugin/</a>) d'obtenir la page suivante :<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-iHTkHAqCDRQ/T0u82VVpcHI/AAAAAAAAAjg/B1DIln_qwbk/s1600/tomcat03.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="55" src="http://2.bp.blogspot.com/-iHTkHAqCDRQ/T0u82VVpcHI/AAAAAAAAAjg/B1DIln_qwbk/s320/tomcat03.png" width="320" /></a></div><h3>            Maven Tomcat 7 Archetype</h3><div style="text-align: justify;">Ce petit paragraphe a juste pour objectif de montrer ce que génère l'archetype Tomcat7.</div>Aussi, à la commande :<br /><pre class="brush:bash; wrap-lines: false; auto-links: false">mvn archetype:generate \<br />&nbsp; &nbsp;-DarchetypeGroupId=org.apache.tomcat.maven \<br />&nbsp; &nbsp;-DarchetypeArtifactId=tomcat-maven-archetype \<br />&nbsp; &nbsp;-DarchetypeVersion=2.0-SNAPSHOT \<br />&nbsp; &nbsp;-DarchetypeRepository=https://repository.apache.org/content/repositories/snapshots/</pre><br />on obtient le résultat suivant :<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-fOfKG8OeGRk/T0yaZtjtEGI/AAAAAAAAAjo/CAVLKEsD7lw/s1600/tomcat06.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="640" src="http://3.bp.blogspot.com/-fOfKG8OeGRk/T0yaZtjtEGI/AAAAAAAAAjo/CAVLKEsD7lw/s640/tomcat06.png" width="299" /></a></div><br /><div style="text-align: justify;">Un rapide coup d'oeil permet de se rendre compte que :</div><ul><li style="text-align: justify;">le module basic-api contient les interfaces pour le webservice REST</li><li style="text-align: justify;">le module basic-api-impl contient l'implémentation des webservices REST</li><li style="text-align: justify;">le module basic-webapp contient l'application web&nbsp;</li><li style="text-align: justify;">le module basic-webapp-exec permet de générer un jar exécutable embarquant l'application web ainsi que le nécessaire de tomcat pour le démarrer en standalone</li><li style="text-align: justify;">le module basic-webapp-it permet de démarrer des tests Selenium sur l'application web démarrer au sein d'un Tomcat7</li></ul><div><div style="text-align: justify;">Pour tester, rien de plus simple, il suffit de lancer la commande suivante :</div><pre class="brush:bash; wrap-lines: false; auto-links: false">mvn install -Pchrome</pre><br /></div><div><iframe allowfullscreen="" frameborder="0" height="315" src="http://www.youtube.com/embed/M3b6OPj6mGo" width="560"></iframe></div><div><br /></div><div><h2>            Conclusion</h2><div><div style="text-align: justify;">Ce qui m'a plu sur le plugin Apache Tomcat 7 (en plus, bien sûr de la possibilité de lancer l'application web de manière embedded à Maven et de pouvoir déployer la webapp sur un Tomcat existant) est la possibilité de créer un jar exécutable.</div><div style="text-align: justify;">C'est vrai que je n'ai toujours pas trouvé d'utilité pour cela mais la performance méritait d'être applaudit.</div><div style="text-align: justify;">Concernant l'archetype Apache Tomcat 7, cela fournit en 1 ligne de commande un excellent template de projet qui dispose de tout.</div><h1>           Conclusion</h1><div style="text-align: justify;">Comme vous avez pu vous en rendre compte, il n'y a rien de révolutionnaire dans cet article mais je tenais à mettre en avant ces 2 plugins qui, soit on des fonctionnalités utiles dans le cadre d'un projet, soit ont quelques features intéressantes.</div><h1>          Pour aller plus loin...</h1><ul><li>Site officiel de l'archetype&nbsp;Maven&nbsp;Tomcat7 :&nbsp;<a href="http://tomcat.apache.org/maven-plugin-2.0-beta-1/archetype.html">http://tomcat.apache.org/maven-plugin-2.0-beta-1/archetype.html</a></li><li>Site officiel du plugin&nbsp;Maven&nbsp;Tomcat7 :&nbsp;<a href="http://tomcat.apache.org/maven-plugin-2.0-SNAPSHOT/tomcat7-maven-plugin/">http://tomcat.apache.org/maven-plugin-2.0-SNAPSHOT/tomcat7-maven-plugin/</a></li><li>Site officiel du plugin&nbsp;Maven&nbsp;AppAssembler :&nbsp;<a href="http://mojo.codehaus.org/appassembler/appassembler-maven-plugin/">http://mojo.codehaus.org/appassembler/appassembler-maven-plugin/</a></li><li>Blog d'Olivier Lamy :&nbsp;<a href="http://olamy.blogspot.com/">http://olamy.blogspot.com/</a></li></ul></div></div></div></div></div>
